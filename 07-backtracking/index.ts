/**
 * ============================================================
 * ğŸ“š Step 07: å›æº¯ç®—æ³•
 * ============================================================
 *
 * æœ¬ç« å†…å®¹ï¼š
 * 1. å›æº¯ç®—æ³•åŸºç¡€
 * 2. å›æº¯ä¸‰è¦ç´ 
 * 3. æ’åˆ—é—®é¢˜
 * 4. ç»„åˆé—®é¢˜
 * 5. å­é›†é—®é¢˜
 * 6. å‰ªæä¼˜åŒ–
 */

// ============================================================
// 1. å›æº¯ç®—æ³•åŸºç¡€
// ============================================================

/**
 * ğŸ“– å›æº¯ç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿ
 *
 * å›æº¯ = ç©·ä¸¾ + å‰ªæ
 *
 * æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æš´åŠ›æœç´¢ï¼Œé€šè¿‡"è¯•é”™"æ¥å¯»æ‰¾é—®é¢˜çš„è§£ï¼š
 * - åœ¨æŸä¸€æ­¥é€‰æ‹©ä¸€ä¸ªé€‰é¡¹
 * - ç»§ç»­å¾€ä¸‹èµ°
 * - å¦‚æœå‘ç°èµ°ä¸é€šï¼ˆä¸æ»¡è¶³æ¡ä»¶ï¼‰ï¼Œé€€å›ä¸Šä¸€æ­¥ï¼Œæ¢ä¸€ä¸ªé€‰é¡¹
 *
 * ğŸŒ³ å›æº¯çš„æœ¬è´¨æ˜¯éå†å†³ç­–æ ‘ï¼š
 *
 * ```
 *                    []
 *           /        |        \
 *         [1]       [2]       [3]
 *        /   \       |
 *     [1,2] [1,3]  [2,3]
 *       |
 *    [1,2,3]
 * ```
 *
 * ğŸ”„ å›æº¯ vs é€’å½’ vs DFS
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  é€’å½’ï¼šä¸€ç§ç¼–ç¨‹æŠ€å·§ï¼Œå‡½æ•°è°ƒç”¨è‡ªèº«                            â”‚
 * â”‚  DFSï¼šä¸€ç§éå†ç­–ç•¥ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢                             â”‚
 * â”‚  å›æº¯ï¼šDFS + çŠ¶æ€é‡ç½®ï¼Œç”¨äºæ±‚è§£æ‰€æœ‰å¯èƒ½çš„è§£                  â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * æ—¶é—´å¤æ‚åº¦ï¼šé€šå¸¸æ˜¯æŒ‡æ•°çº§ O(n!) æˆ– O(2^n)
 * ç©ºé—´å¤æ‚åº¦ï¼šO(n) é€’å½’æ ˆæ·±åº¦
 */

// ============================================================
// 2. ğŸ¯ å›æº¯ç®—æ³• - é€‚ç”¨åœºæ™¯ä¸ä¿¡å·è¯
// ============================================================

/**
 * ğŸ¯ ä¿¡å·è¯è¯†åˆ«ï¼š
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                   å›æº¯é—®é¢˜åˆ†ç±»                              â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                            â”‚
 * â”‚  ã€æ’åˆ—é—®é¢˜ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: å…¨æ’åˆ—ã€æ‰€æœ‰æ’åˆ—ã€é¡ºåºæœ‰å…³                        â”‚
 * â”‚   ç‰¹ç‚¹: å…ƒç´ æœ‰é¡ºåºï¼Œ[1,2] å’Œ [2,1] æ˜¯ä¸åŒçš„                â”‚
 * â”‚   å…¸å‹é¢˜: å…¨æ’åˆ—ã€å­—ç¬¦ä¸²æ’åˆ—                                â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€ç»„åˆé—®é¢˜ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: æ‰€æœ‰ç»„åˆã€é€‰å‡º k ä¸ªã€ç»„åˆæ€»å’Œ                     â”‚
 * â”‚   ç‰¹ç‚¹: å…ƒç´ æ— é¡ºåºï¼Œ[1,2] å’Œ [2,1] æ˜¯ç›¸åŒçš„                â”‚
 * â”‚   å…¸å‹é¢˜: ç»„åˆã€ç»„åˆæ€»å’Œã€ç”µè¯å·ç ç»„åˆ                      â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€å­é›†é—®é¢˜ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: æ‰€æœ‰å­é›†ã€å¹‚é›†ã€å­é›†å’Œ                            â”‚
 * â”‚   ç‰¹ç‚¹: æ¯ä¸ªå…ƒç´ é€‰æˆ–ä¸é€‰                                    â”‚
 * â”‚   å…¸å‹é¢˜: å­é›†ã€å­é›†IIï¼ˆæœ‰é‡å¤ï¼‰                           â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€åˆ†å‰²é—®é¢˜ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: åˆ†å‰²å­—ç¬¦ä¸²ã€åˆ†å‰²å›æ–‡ã€IPåœ°å€                      â”‚
 * â”‚   ç‰¹ç‚¹: ç©·ä¸¾æ‰€æœ‰åˆ†å‰²æ–¹æ¡ˆ                                    â”‚
 * â”‚   å…¸å‹é¢˜: åˆ†å‰²å›æ–‡ä¸²ã€å¤åŸIPåœ°å€                           â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€æ£‹ç›˜é—®é¢˜ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: Nçš‡åã€æ•°ç‹¬ã€æ£‹ç›˜                                 â”‚
 * â”‚   ç‰¹ç‚¹: åœ¨äºŒç»´ç©ºé—´ä¸­åšé€‰æ‹©                                  â”‚
 * â”‚   å…¸å‹é¢˜: Nçš‡åã€è§£æ•°ç‹¬                                    â”‚
 * â”‚                                                            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

// ============================================================
// 3. å›æº¯ä¸‰è¦ç´  & æ ¸å¿ƒæ¨¡æ¿
// ============================================================

/**
 * ğŸ“Š å›æº¯ä¸‰è¦ç´ ï¼š
 *
 * 1. ã€è·¯å¾„ã€‘å·²ç»åšå‡ºçš„é€‰æ‹©
 * 2. ã€é€‰æ‹©åˆ—è¡¨ã€‘å½“å‰å¯ä»¥åšçš„é€‰æ‹©
 * 3. ã€ç»“æŸæ¡ä»¶ã€‘åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©
 *
 * ğŸ”„ å›æº¯æ¨¡æ¿ (Mermaid):
 *
 * ```mermaid
 * flowchart TD
 *     A[å¼€å§‹ backtrack] --> B{æ»¡è¶³ç»“æŸæ¡ä»¶?}
 *     B -->|Yes| C[æ”¶é›†ç»“æœ]
 *     B -->|No| D[éå†é€‰æ‹©åˆ—è¡¨]
 *     D --> E[åšé€‰æ‹©]
 *     E --> F[é€’å½’ backtrack]
 *     F --> G[æ’¤é”€é€‰æ‹©]
 *     G --> D
 *     C --> H[è¿”å›]
 * ```
 */

/**
 * ğŸ¯ æ ¸å¿ƒæ¨¡æ¿
 */
function backtrackTemplate<T>(
  result: T[][], // å­˜æ”¾æ‰€æœ‰ç»“æœ
  path: T[], // å½“å‰è·¯å¾„ï¼ˆå·²åšçš„é€‰æ‹©ï¼‰
  choices: T[], // é€‰æ‹©åˆ—è¡¨
  /* å…¶ä»–å‚æ•° */
) {
  // 1. ç»“æŸæ¡ä»¶ï¼šæ”¶é›†ç»“æœ
  if (/* æ»¡è¶³ç»“æŸæ¡ä»¶ */) {
    result.push([...path]); // æ³¨æ„è¦æ‹·è´ï¼
    return;
  }

  // 2. éå†é€‰æ‹©åˆ—è¡¨
  for (let i = 0; i < choices.length; i++) {
    // 3. å‰ªæï¼ˆå¯é€‰ï¼‰
    if (/* ä¸æ»¡è¶³æ¡ä»¶ */) continue;

    // 4. åšé€‰æ‹©
    path.push(choices[i]);

    // 5. é€’å½’
    backtrackTemplate(result, path, choices /* æ›´æ–°å‚æ•° */);

    // 6. æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯çš„æ ¸å¿ƒï¼ï¼‰
    path.pop();
  }
}

// ============================================================
// 4. ä¸‰å¤§é—®é¢˜è¯¦è§£
// ============================================================

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// é—®é¢˜ä¸€ï¼šæ’åˆ— (Permutation)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š æ’åˆ—é—®é¢˜å›¾è§£ï¼š
 *
 * å…¨æ’åˆ— [1, 2, 3]
 *
 *                    []
 *          /         |         \
 *        [1]        [2]        [3]
 *       /   \      /   \      /   \
 *    [1,2] [1,3] [2,1] [2,3] [3,1] [3,2]
 *      |     |     |     |     |     |
 *   [1,2,3][1,3,2][2,1,3][2,3,1][3,1,2][3,2,1]
 *
 * ç‰¹ç‚¹ï¼š
 * - æ¯ä¸ªä½ç½®éƒ½è¦é€‰ä¸€ä¸ªå…ƒç´ 
 * - å·²é€‰è¿‡çš„å…ƒç´ ä¸èƒ½å†é€‰ï¼ˆéœ€è¦æ ‡è®° usedï¼‰
 * - ç»“æœæ•°é‡ï¼šn!
 */
function permute(nums: number[]): number[][] {
  const result: number[][] = [];
  const path: number[] = [];
  const used: boolean[] = new Array(nums.length).fill(false);

  function backtrack() {
    // ç»“æŸæ¡ä»¶ï¼šè·¯å¾„é•¿åº¦ = æ•°ç»„é•¿åº¦
    if (path.length === nums.length) {
      result.push([...path]);
      return;
    }

    for (let i = 0; i < nums.length; i++) {
      // è·³è¿‡å·²ä½¿ç”¨çš„å…ƒç´ 
      if (used[i]) continue;

      // åšé€‰æ‹©
      path.push(nums[i]);
      used[i] = true;

      // é€’å½’
      backtrack();

      // æ’¤é”€é€‰æ‹©
      path.pop();
      used[i] = false;
    }
  }

  backtrack();
  return result;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// é—®é¢˜äºŒï¼šç»„åˆ (Combination)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š ç»„åˆé—®é¢˜å›¾è§£ï¼š
 *
 * ä» [1,2,3,4] ä¸­é€‰ 2 ä¸ªæ•°çš„ç»„åˆ
 *
 *                    []
 *          /      |      \      \
 *        [1]     [2]     [3]    [4]
 *       / | \    / \      |
 *    [1,2][1,3][1,4][2,3][2,4] [3,4]
 *
 * ç‰¹ç‚¹ï¼š
 * - [1,2] å’Œ [2,1] æ˜¯åŒä¸€ä¸ªç»„åˆ
 * - ä¸ºäº†å»é‡ï¼Œåªèƒ½é€‰å½“å‰ä½ç½®ä¹‹åçš„å…ƒç´ 
 * - éœ€è¦ä¼ å…¥ start å‚æ•°
 * - ç»“æœæ•°é‡ï¼šC(n,k)
 */
function combine(n: number, k: number): number[][] {
  const result: number[][] = [];
  const path: number[] = [];

  function backtrack(start: number) {
    // ç»“æŸæ¡ä»¶ï¼šé€‰å¤Ÿäº† k ä¸ª
    if (path.length === k) {
      result.push([...path]);
      return;
    }

    // ä» start å¼€å§‹é€‰ï¼Œé¿å…é‡å¤
    for (let i = start; i <= n; i++) {
      // åšé€‰æ‹©
      path.push(i);

      // é€’å½’ï¼šä¸‹ä¸€æ¬¡ä» i+1 å¼€å§‹
      backtrack(i + 1);

      // æ’¤é”€é€‰æ‹©
      path.pop();
    }
  }

  backtrack(1);
  return result;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// é—®é¢˜ä¸‰ï¼šå­é›† (Subset)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š å­é›†é—®é¢˜å›¾è§£ï¼š
 *
 * [1, 2, 3] çš„æ‰€æœ‰å­é›†
 *
 *                    []  â† æ”¶é›†
 *          /         |         \
 *        [1] â†      [2] â†      [3] â† æ”¶é›†
 *       /   \        |
 *    [1,2]â† [1,3]â† [2,3] â† æ”¶é›†
 *      |
 *   [1,2,3] â† æ”¶é›†
 *
 * ç‰¹ç‚¹ï¼š
 * - æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå­é›†ï¼Œéƒ½è¦æ”¶é›†
 * - ä¹Ÿæ˜¯ä» start å¼€å§‹é€‰ï¼Œé¿å…é‡å¤
 * - ç»“æœæ•°é‡ï¼š2^n
 */
function subsets(nums: number[]): number[][] {
  const result: number[][] = [];
  const path: number[] = [];

  function backtrack(start: number) {
    // æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå­é›†ï¼Œéƒ½è¦æ”¶é›†
    result.push([...path]);

    for (let i = start; i < nums.length; i++) {
      // åšé€‰æ‹©
      path.push(nums[i]);

      // é€’å½’
      backtrack(i + 1);

      // æ’¤é”€é€‰æ‹©
      path.pop();
    }
  }

  backtrack(0);
  return result;
}

// ============================================================
// 5. ä¸‰ç§é—®é¢˜çš„å¯¹æ¯”
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚    é—®é¢˜     â”‚   å…ƒç´ é¡ºåº   â”‚   å»é‡æ–¹å¼   â”‚      æ”¶é›†æ—¶æœº        â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚    æ’åˆ—     â”‚    æœ‰å…³      â”‚   usedæ•°ç»„  â”‚ path.length == n    â”‚
 * â”‚    ç»„åˆ     â”‚    æ— å…³      â”‚  startå‚æ•°  â”‚ path.length == k    â”‚
 * â”‚    å­é›†     â”‚    æ— å…³      â”‚  startå‚æ•°  â”‚ æ¯ä¸ªèŠ‚ç‚¹éƒ½æ”¶é›†       â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * ğŸ”‘ å…³é”®åŒºåˆ«ï¼š
 *
 * æ’åˆ—ï¼šæ¯æ¬¡éƒ½ä» 0 å¼€å§‹éå†ï¼Œç”¨ used æ ‡è®°å·²é€‰å…ƒç´ 
 * ç»„åˆ/å­é›†ï¼šç”¨ start å‚æ•°ï¼Œåªé€‰åé¢çš„å…ƒç´ ï¼Œé¿å…é‡å¤
 */

// ============================================================
// 6. å‰ªæä¼˜åŒ–
// ============================================================

/**
 * ğŸ“Š å‰ªæçš„ä½œç”¨ï¼š
 *
 * å‰ªæ = æå‰ç»ˆæ­¢ä¸å¯èƒ½çš„åˆ†æ”¯ï¼Œå‡å°‘æœç´¢ç©ºé—´
 *
 * å¸¸è§å‰ªæç­–ç•¥ï¼š
 *
 * 1. ã€å¯è¡Œæ€§å‰ªæã€‘å½“å‰é€‰æ‹©ä¸æ»¡è¶³çº¦æŸæ¡ä»¶
 *    - ç»„åˆæ€»å’Œ > targetï¼Œä¸å†ç»§ç»­
 *
 * 2. ã€æœ€ä¼˜æ€§å‰ªæã€‘å½“å‰åˆ†æ”¯ä¸å¯èƒ½æ¯”å·²çŸ¥æœ€ä¼˜è§£æ›´å¥½
 *    - ç±»ä¼¼äºåˆ†æ”¯å®šç•Œ
 *
 * 3. ã€é‡å¤å‰ªæã€‘å»é™¤é‡å¤çš„é€‰æ‹©
 *    - æœ‰é‡å¤å…ƒç´ æ—¶ï¼Œå…ˆæ’åºï¼Œç›¸åŒå…ƒç´ è·³è¿‡
 */

/**
 * ğŸŒ° ä¾‹å­ï¼šç»„åˆæ€»å’Œï¼ˆå¸¦å‰ªæï¼‰
 *
 * ä»å€™é€‰æ•°ç»„ä¸­æ‰¾å‡ºæ‰€æœ‰å’Œä¸º target çš„ç»„åˆ
 */
function combinationSum(candidates: number[], target: number): number[][] {
  const result: number[][] = [];
  const path: number[] = [];

  // å…ˆæ’åºï¼Œä¾¿äºå‰ªæ
  candidates.sort((a, b) => a - b);

  function backtrack(start: number, remaining: number) {
    if (remaining === 0) {
      result.push([...path]);
      return;
    }

    for (let i = start; i < candidates.length; i++) {
      // å‰ªæï¼šå¦‚æœå½“å‰æ•°å·²ç»å¤§äºå‰©ä½™ç›®æ ‡ï¼Œåé¢çš„æ›´å¤§ï¼Œç›´æ¥é€€å‡º
      if (candidates[i] > remaining) break;

      path.push(candidates[i]);
      // å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥è¿˜æ˜¯ä» i å¼€å§‹
      backtrack(i, remaining - candidates[i]);
      path.pop();
    }
  }

  backtrack(0, target);
  return result;
}

// ============================================================
// 7. å¤„ç†é‡å¤å…ƒç´ 
// ============================================================

/**
 * ğŸ“Š é‡å¤å…ƒç´ çš„å¤„ç†ï¼š
 *
 * è¾“å…¥ [1, 1, 2]ï¼Œæ±‚æ‰€æœ‰ä¸é‡å¤çš„æ’åˆ—
 *
 * å¦‚æœä¸å¤„ç†é‡å¤ï¼Œä¼šå¾—åˆ°ï¼š
 * [1,1,2], [1,2,1], [1,1,2], [1,2,1], [2,1,1], [2,1,1]
 *     â†‘       â†‘         â†‘       â†‘
 *           é‡å¤äº†ï¼
 *
 * è§£å†³æ–¹æ¡ˆï¼š
 * 1. å…ˆæ’åºï¼Œè®©ç›¸åŒå…ƒç´ ç›¸é‚»
 * 2. åŒä¸€å±‚ä¸­ï¼Œè·³è¿‡é‡å¤å…ƒç´ 
 *
 * å…³é”®åˆ¤æ–­ï¼š
 * if (i > 0 && nums[i] === nums[i-1] && !used[i-1]) continue;
 *
 * ç†è§£ï¼š
 * - nums[i] === nums[i-1]ï¼šå½“å‰å…ƒç´ å’Œå‰ä¸€ä¸ªç›¸åŒ
 * - !used[i-1]ï¼šå‰ä¸€ä¸ªå…ƒç´ æ²¡è¢«ä½¿ç”¨ï¼ˆè¯´æ˜æ˜¯åŒä¸€å±‚ï¼‰
 *   - å¦‚æœ used[i-1]=trueï¼Œè¯´æ˜æ˜¯ä¸åŒå±‚ï¼Œå¯ä»¥ä½¿ç”¨
 *   - å¦‚æœ used[i-1]=falseï¼Œè¯´æ˜æ˜¯åŒä¸€å±‚ï¼Œè¦è·³è¿‡
 */
function permuteUnique(nums: number[]): number[][] {
  const result: number[][] = [];
  const path: number[] = [];
  const used: boolean[] = new Array(nums.length).fill(false);

  // æ’åºï¼Œè®©ç›¸åŒå…ƒç´ ç›¸é‚»
  nums.sort((a, b) => a - b);

  function backtrack() {
    if (path.length === nums.length) {
      result.push([...path]);
      return;
    }

    for (let i = 0; i < nums.length; i++) {
      if (used[i]) continue;

      // å»é‡ï¼šåŒä¸€å±‚ä¸­è·³è¿‡é‡å¤å…ƒç´ 
      if (i > 0 && nums[i] === nums[i - 1] && !used[i - 1]) continue;

      path.push(nums[i]);
      used[i] = true;

      backtrack();

      path.pop();
      used[i] = false;
    }
  }

  backtrack();
  return result;
}

// ============================================================
// 8. å¤æ‚åº¦åˆ†æ
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚       é—®é¢˜          â”‚    æ—¶é—´å¤æ‚åº¦     â”‚       è¯´æ˜          â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚     å…¨æ’åˆ—          â”‚      O(n!)       â”‚ n! ç§æ’åˆ—           â”‚
 * â”‚    å…¨æ’åˆ—(é‡å¤)     â”‚      O(n!)       â”‚ æœ€åæƒ…å†µ            â”‚
 * â”‚     ç»„åˆ           â”‚    O(C(n,k))      â”‚ ç»„åˆæ•°              â”‚
 * â”‚     å­é›†           â”‚      O(2^n)      â”‚ 2^n ä¸ªå­é›†          â”‚
 * â”‚   ç»„åˆæ€»å’Œ         â”‚      O(2^n)      â”‚ æŒ‡æ•°çº§              â”‚
 * â”‚    Nçš‡å           â”‚      O(n!)       â”‚ æ¯è¡Œé€‰ä¸€ä¸ªä½ç½®      â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé€’å½’æ ˆæ·±åº¦
 */

// ============================================================
// 9. âš ï¸ æ˜“é”™ç‚¹
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                      æ˜“é”™ç‚¹æ€»ç»“                              â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                             â”‚
 * â”‚ ã€ç»“æœæ”¶é›†ã€‘                                                 â”‚
 * â”‚  âš ï¸ æ”¶é›†ç»“æœæ—¶è¦æ‹·è´ï¼result.push([...path])               â”‚
 * â”‚  âš ï¸ ä¸èƒ½ç›´æ¥ push(path)ï¼Œå¦åˆ™åç»­ä¿®æ”¹ä¼šå½±å“ç»“æœ            â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ’¤é”€é€‰æ‹©ã€‘                                                 â”‚
 * â”‚  âš ï¸ æ¯æ¬¡åšé€‰æ‹©åï¼Œé€’å½’è¿”å›æ—¶è¦æ’¤é”€                          â”‚
 * â”‚  âš ï¸ çŠ¶æ€é‡ç½®è¦å®Œæ•´ï¼ˆpath.pop(), used[i]=false ç­‰ï¼‰         â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€å»é‡æ–¹å¼ã€‘                                                 â”‚
 * â”‚  âš ï¸ æ’åˆ—ç”¨ used æ•°ç»„ï¼Œç»„åˆ/å­é›†ç”¨ start å‚æ•°               â”‚
 * â”‚  âš ï¸ æœ‰é‡å¤å…ƒç´ æ—¶ï¼Œè¦å…ˆæ’åº                                  â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€å‰ªææ¡ä»¶ã€‘                                                 â”‚
 * â”‚  âš ï¸ å‰ªææ¡ä»¶è¦æ”¾åœ¨åšé€‰æ‹©ä¹‹å‰                                â”‚
 * â”‚  âš ï¸ æ’åºåå¯ä»¥ç”¨ break æå‰é€€å‡º                             â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€é‡å¤å…ƒç´ ã€‘                                                 â”‚
 * â”‚  âš ï¸ åˆ¤æ–­æ¡ä»¶ï¼šnums[i] === nums[i-1] && !used[i-1]          â”‚
 * â”‚  âš ï¸ ä¸æ˜¯ used[i-1]ï¼Œæ˜¯ !used[i-1]                          â”‚
 * â”‚                                                             â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

// ============================================================
// 10. ğŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                   å‰ç«¯ä¸šåŠ¡åœºæ™¯åº”ç”¨                           â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                             â”‚
 * â”‚ ã€è¡¨å•é…ç½®ã€‘                                                 â”‚
 * â”‚  â€¢ ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„è¡¨å•å­—æ®µç»„åˆ                               â”‚
 * â”‚  â€¢ æƒé™é…ç½®çš„æ’åˆ—ç»„åˆ                                       â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ¨èç³»ç»Ÿã€‘                                                 â”‚
 * â”‚  â€¢ å•†å“ç»„åˆæ¨è                                             â”‚
 * â”‚  â€¢ å¥—é¤é…ç½®                                                 â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€è·¯å¾„è§„åˆ’ã€‘                                                 â”‚
 * â”‚  â€¢ ç”¨æˆ·æ“ä½œè·¯å¾„åˆ†æ                                         â”‚
 * â”‚  â€¢ é¡µé¢è·³è½¬è·¯å¾„æšä¸¾                                         â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ’ç­ç³»ç»Ÿã€‘                                                 â”‚
 * â”‚  â€¢ å·¥ä½œæ—¥æ’ç­ç»„åˆ                                           â”‚
 * â”‚  â€¢ ä¼šè®®å®¤é¢„çº¦ç»„åˆ                                           â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ ‘å½¢ç»“æ„ã€‘                                                 â”‚
 * â”‚  â€¢ ç›®å½•æ ‘çš„æ‰€æœ‰è·¯å¾„                                         â”‚
 * â”‚  â€¢ ç»„ç»‡æ¶æ„çš„å±‚çº§ç»„åˆ                                       â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ¸¸æˆå¼€å‘ã€‘                                                 â”‚
 * â”‚  â€¢ è¿·å®«æ±‚è§£                                                 â”‚
 * â”‚  â€¢ æ£‹ç±»æ¸¸æˆçš„èµ°æ³•æšä¸¾                                       â”‚
 * â”‚                                                             â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

export {
  permute,
  combine,
  subsets,
  combinationSum,
  permuteUnique,
};

