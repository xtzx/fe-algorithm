/**
 * ğŸ“ é¢˜ç›®ï¼šæ¯æ—¥æ¸©åº¦
 * ğŸ”— é“¾æ¥ï¼šhttps://leetcode.cn/problems/daily-temperatures/
 * ğŸ·ï¸ éš¾åº¦ï¼šMedium
 * ğŸ·ï¸ æ ‡ç­¾ï¼šæ ˆã€æ•°ç»„ã€å•è°ƒæ ˆ
 *
 * ğŸ“‹ é¢˜ç›®æè¿°ï¼š
 * ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ temperaturesï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œ
 * è¿”å›ä¸€ä¸ªæ•°ç»„ answerï¼Œå…¶ä¸­ answer[i] æ˜¯æŒ‡å¯¹äºç¬¬ i å¤©ï¼Œ
 * ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©åã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚
 *
 * ç¤ºä¾‹ï¼š
 * è¾“å…¥ï¼štemperatures = [73,74,75,71,69,72,76,73]
 * è¾“å‡ºï¼š[1,1,4,2,1,1,0,0]
 *
 * è§£é‡Šï¼š
 * ç¬¬ 0 å¤©(73Â°) ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦æ˜¯ç¬¬ 1 å¤©(74Â°)ï¼Œé—´éš” 1 å¤©
 * ç¬¬ 1 å¤©(74Â°) ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦æ˜¯ç¬¬ 2 å¤©(75Â°)ï¼Œé—´éš” 1 å¤©
 * ç¬¬ 2 å¤©(75Â°) ä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦æ˜¯ç¬¬ 6 å¤©(76Â°)ï¼Œé—´éš” 4 å¤©
 * ...
 */

// ============================================================
// ğŸ’¡ æ€è·¯åˆ†æï¼šè¿™é“é¢˜çš„è§£æ³•æ˜¯æ€ä¹ˆæƒ³å‡ºæ¥çš„ï¼Ÿ
// ============================================================
//
// é—®é¢˜æœ¬è´¨ï¼šæ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
//
// æš´åŠ›æ³•ï¼šå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œå‘åéå†æ‰¾æ›´å¤§çš„ â†’ O(nÂ²)
//
// ä¼˜åŒ–ï¼šå•è°ƒæ ˆ
// - ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼ˆä»æ ˆåº•åˆ°æ ˆé¡¶é€’å‡ï¼‰
// - é‡åˆ°æ›´å¤§çš„å…ƒç´ æ—¶ï¼Œæ ˆé¡¶å…ƒç´ æ‰¾åˆ°äº†ç­”æ¡ˆ
// - æ ˆä¸­å­˜å‚¨ç´¢å¼•ï¼Œæ–¹ä¾¿è®¡ç®—è·ç¦»

// ============================================================
// è§£æ³•ä¸€ï¼šå•è°ƒæ ˆï¼ˆæ¨èï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(n)

/**
 * ğŸ“Š æ‰§è¡Œè¿‡ç¨‹å›¾è§£ï¼š
 *
 * temperatures = [73, 74, 75, 71, 69, 72, 76, 73]
 *                 0   1   2   3   4   5   6   7
 *
 * æ ˆå­˜å‚¨ç´¢å¼•ï¼Œä¿æŒæ¸©åº¦å•è°ƒé€’å‡
 *
 * i=0, T=73: æ ˆç©ºï¼Œå…¥æ ˆ           æ ˆ:[0]      result:[-,-,-,-,-,-,-,-]
 * i=1, T=74: 74>73, å¼¹0, å…¥1      æ ˆ:[1]      result:[1,-,-,-,-,-,-,-]
 * i=2, T=75: 75>74, å¼¹1, å…¥2      æ ˆ:[2]      result:[1,1,-,-,-,-,-,-]
 * i=3, T=71: 71<75, å…¥3           æ ˆ:[2,3]    result:[1,1,-,-,-,-,-,-]
 * i=4, T=69: 69<71, å…¥4           æ ˆ:[2,3,4]  result:[1,1,-,-,-,-,-,-]
 * i=5, T=72: 72>69>71, å¼¹4,å¼¹3    æ ˆ:[2,5]    result:[1,1,-,2,1,-,-,-]
 * i=6, T=76: 76>72>75, å¼¹5,å¼¹2    æ ˆ:[6]      result:[1,1,4,2,1,1,-,-]
 * i=7, T=73: 73<76, å…¥7           æ ˆ:[6,7]    result:[1,1,4,2,1,1,-,-]
 *
 * éå†ç»“æŸï¼Œæ ˆä¸­å‰©ä½™ [6,7] æ²¡æœ‰æ›´é«˜æ¸©åº¦ï¼Œä¿æŒ 0
 *
 * æœ€ç»ˆ: [1, 1, 4, 2, 1, 1, 0, 0]
 *
 * ğŸ”„ æµç¨‹å›¾ (Mermaid):
 * ```mermaid
 * flowchart TD
 *     A[éå†æ¯å¤©æ¸©åº¦] --> B{æ ˆéç©º && æ ˆé¡¶æ¸©åº¦ < å½“å‰æ¸©åº¦?}
 *     B -->|Yes| C[å¼¹å‡ºæ ˆé¡¶, resultæ ˆé¡¶ç´¢å¼• = i - æ ˆé¡¶ç´¢å¼•]
 *     C --> B
 *     B -->|No| D[å½“å‰ç´¢å¼•å…¥æ ˆ]
 *     D --> E{éå†å®Œæˆ?}
 *     E -->|No| A
 *     E -->|Yes| F[è¿”å› result]
 * ```
 */
function dailyTemperatures(temperatures: number[]): number[] {
  const n = temperatures.length;
  const result = new Array(n).fill(0);
  const stack: number[] = []; // å•è°ƒé€’å‡æ ˆï¼Œå­˜å‚¨ç´¢å¼•

  for (let i = 0; i < n; i++) {
    // å½“å‰æ¸©åº¦æ¯”æ ˆé¡¶æ¸©åº¦é«˜
    while (
      stack.length > 0 &&
      temperatures[stack[stack.length - 1]] < temperatures[i]
    ) {
      const prevIndex = stack.pop()!;
      result[prevIndex] = i - prevIndex; // è®¡ç®—å¤©æ•°å·®
    }
    stack.push(i);
  }

  // æ ˆä¸­å‰©ä½™çš„ç´¢å¼•æ²¡æœ‰æ›´é«˜æ¸©åº¦ï¼Œä¿æŒ 0

  return result;
}

// ============================================================
// è§£æ³•äºŒï¼šæš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼Œä»…ä¾›ç†è§£ï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) | ç©ºé—´å¤æ‚åº¦ï¼šO(1)
function dailyTemperatures_v2(temperatures: number[]): number[] {
  const n = temperatures.length;
  const result = new Array(n).fill(0);

  for (let i = 0; i < n; i++) {
    for (let j = i + 1; j < n; j++) {
      if (temperatures[j] > temperatures[i]) {
        result[i] = j - i;
        break;
      }
    }
  }

  return result;
}

// ============================================================
// ğŸ”„ è§£æ³•å¯¹æ¯”
// ============================================================
/**
 * | è§£æ³•     | æ—¶é—´   | ç©ºé—´  | ç‰¹ç‚¹                     |
 * |---------|--------|-------|-------------------------|
 * | å•è°ƒæ ˆ   | O(n)   | O(n)  | æ¨èï¼Œæœ€ä¼˜è§£             |
 * | æš´åŠ›    | O(nÂ²)  | O(1)  | ç®€å•ä½†æ…¢ï¼Œä¼šè¶…æ—¶          |
 */

// ============================================================
// âš ï¸ æ˜“é”™ç‚¹
// ============================================================
/**
 * 1. æ ˆå­˜å‚¨ç´¢å¼•è€Œä¸æ˜¯å€¼ï¼š
 *    - éœ€è¦è®¡ç®—å¤©æ•°å·®ï¼Œæ‰€ä»¥å­˜ç´¢å¼•
 *    - æ¯”è¾ƒæ—¶ç”¨ temperatures[stack[top]]
 *
 * 2. å•è°ƒé€’å‡æ ˆï¼š
 *    - ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å‡
 *    - é‡åˆ°æ›´å¤§çš„å°±å¼¹å‡º
 *
 * 3. ç»“æœåˆå§‹åŒ–ä¸º 0ï¼š
 *    - æ²¡æœ‰æ›´é«˜æ¸©åº¦çš„å¤©ä¿æŒ 0
 *    - ä¸éœ€è¦é¢å¤–å¤„ç†æ ˆä¸­å‰©ä½™å…ƒç´ 
 */

// ============================================================
// ğŸ”— ä¸¾ä¸€åä¸‰ï¼šç›¸ä¼¼é¢˜ç›®
// ============================================================
/**
 * - ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I/II â†’ å•è°ƒæ ˆåŸºç¡€
 * - è‚¡ç¥¨ä»·æ ¼è·¨åº¦ â†’ å•è°ƒæ ˆå˜å½¢
 * - æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ â†’ å•è°ƒæ ˆç»å…¸
 * - æ¥é›¨æ°´ â†’ å•è°ƒæ ˆ/åŒæŒ‡é’ˆ
 */

// ============================================================
// ğŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================
/**
 * 1. è‚¡ç¥¨å›¾è¡¨ï¼šæ‰¾ä¸‹ä¸€ä¸ªé«˜ç‚¹/ä½ç‚¹
 * 2. æ€§èƒ½ç›‘æ§ï¼šæ‰¾åˆ°æ€§èƒ½æŒ‡æ ‡è¶…è¿‡é˜ˆå€¼çš„æ—¶é—´ç‚¹
 * 3. æ•°æ®å¯è§†åŒ–ï¼šè®¡ç®—è¶‹åŠ¿å˜åŒ–ç‚¹
 */

export { dailyTemperatures, dailyTemperatures_v2 };
export default dailyTemperatures;

