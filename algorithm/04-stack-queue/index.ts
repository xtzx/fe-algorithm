/**
 * ============================================================
 * ğŸ“š Step 04: æ ˆä¸é˜Ÿåˆ—
 * ============================================================
 *
 * æœ¬ç« å†…å®¹ï¼š
 * 1. æ ˆçš„åŸºç¡€ï¼ˆLIFOï¼‰
 * 2. é˜Ÿåˆ—çš„åŸºç¡€ï¼ˆFIFOï¼‰
 * 3. å•è°ƒæ ˆ
 * 4. å•è°ƒé˜Ÿåˆ—ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰
 * 5. ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰ç®€ä»‹
 */

// ============================================================
// 1. æ ˆä¸é˜Ÿåˆ—åŸºç¡€
// ============================================================

/**
 * ğŸ“– æ ˆï¼ˆStackï¼‰- åè¿›å…ˆå‡º LIFO
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚     top     â”‚  â† push / pop
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚      3      â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚      2      â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚      1      â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *     bottom
 *
 * æ“ä½œï¼š
 * - push(x): å…¥æ ˆï¼ŒO(1)
 * - pop(): å‡ºæ ˆï¼ŒO(1)
 * - peek()/top(): æŸ¥çœ‹æ ˆé¡¶ï¼ŒO(1)
 * - isEmpty(): æ˜¯å¦ä¸ºç©ºï¼ŒO(1)
 *
 * JavaScript å®ç°ï¼šç›´æ¥ç”¨æ•°ç»„
 * - push() / pop() / arr[arr.length-1]
 */

/**
 * ğŸ“– é˜Ÿåˆ—ï¼ˆQueueï¼‰- å…ˆè¿›å…ˆå‡º FIFO
 *
 *   å…¥é˜Ÿ â†’  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”  â†’ å‡ºé˜Ÿ
 *   enqueue â”‚ 4 â”‚ 3 â”‚ 2 â”‚ 1 â”‚  dequeue
 *           â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
 *           back          front
 *
 * æ“ä½œï¼š
 * - enqueue(x): å…¥é˜Ÿï¼ŒO(1)
 * - dequeue(): å‡ºé˜Ÿï¼ŒO(1) æˆ– O(n)*
 * - front(): æŸ¥çœ‹é˜Ÿé¦–ï¼ŒO(1)
 * - isEmpty(): æ˜¯å¦ä¸ºç©ºï¼ŒO(1)
 *
 * JavaScript å®ç°ï¼š
 * - æ•°ç»„ï¼špush() + shift()ï¼ˆshift æ˜¯ O(n)ï¼‰
 * - æ›´å¥½çš„å®ç°ï¼šç”¨å¯¹è±¡æ¨¡æ‹Ÿæˆ–åŒç«¯é˜Ÿåˆ—
 *
 * * æ•°ç»„çš„ shift() æ˜¯ O(n)ï¼Œå› ä¸ºéœ€è¦ç§»åŠ¨å…ƒç´ 
 */

/**
 * ğŸ“– åŒç«¯é˜Ÿåˆ—ï¼ˆDequeï¼‰- ä¸¤ç«¯éƒ½å¯æ“ä½œ
 *
 *   â† å…¥/å‡º    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”    å…¥/å‡º â†’
 *   front     â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚     back
 *              â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
 *
 * JavaScript å®ç°ï¼šæ•°ç»„å¤©ç„¶æ”¯æŒ
 * - å¤´éƒ¨ï¼šunshift() / shift()
 * - å°¾éƒ¨ï¼špush() / pop()
 *
 * æ³¨æ„ï¼šunshift() å’Œ shift() éƒ½æ˜¯ O(n)
 */

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// JavaScript ä¸­æ ˆå’Œé˜Ÿåˆ—çš„å®ç°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// æ ˆï¼šç›´æ¥ç”¨æ•°ç»„
class Stack<T> {
  private items: T[] = [];

  push(item: T): void {
    this.items.push(item);
  }

  pop(): T | undefined {
    return this.items.pop();
  }

  peek(): T | undefined {
    return this.items[this.items.length - 1];
  }

  isEmpty(): boolean {
    return this.items.length === 0;
  }

  size(): number {
    return this.items.length;
  }
}

// é˜Ÿåˆ—ï¼šç”¨å¯¹è±¡å®ç° O(1) çš„å‡ºé˜Ÿæ“ä½œ
class Queue<T> {
  private items: { [key: number]: T } = {};
  private head = 0;
  private tail = 0;

  enqueue(item: T): void {
    this.items[this.tail] = item;
    this.tail++;
  }

  dequeue(): T | undefined {
    if (this.isEmpty()) return undefined;
    const item = this.items[this.head];
    delete this.items[this.head];
    this.head++;
    return item;
  }

  front(): T | undefined {
    return this.items[this.head];
  }

  isEmpty(): boolean {
    return this.head === this.tail;
  }

  size(): number {
    return this.tail - this.head;
  }
}

// ============================================================
// 2. ğŸ¯ æ ˆä¸é˜Ÿåˆ— - é€‚ç”¨åœºæ™¯ä¸ä¿¡å·è¯
// ============================================================

/**
 * ğŸ¯ ä¿¡å·è¯è¯†åˆ«ï¼š
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                  æ ˆä¸é˜Ÿåˆ—é—®é¢˜åˆ†ç±»                           â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                            â”‚
 * â”‚  ã€æ ˆ - æ‹¬å·åŒ¹é…ã€‘                                          â”‚
 * â”‚   ä¿¡å·è¯: æ‹¬å·ã€æœ‰æ•ˆã€åŒ¹é…ã€åµŒå¥—                            â”‚
 * â”‚   å…¸å‹é¢˜: æœ‰æ•ˆæ‹¬å·ã€æ‹¬å·ç”Ÿæˆã€æœ€é•¿æœ‰æ•ˆæ‹¬å·                   â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€æ ˆ - è¡¨è¾¾å¼è®¡ç®—ã€‘                                        â”‚
 * â”‚   ä¿¡å·è¯: è®¡ç®—ã€è¡¨è¾¾å¼ã€é€†æ³¢å…°ã€åç¼€                        â”‚
 * â”‚   å…¸å‹é¢˜: åŸºæœ¬è®¡ç®—å™¨ã€é€†æ³¢å…°è¡¨è¾¾å¼                          â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€å•è°ƒæ ˆã€‘                                                 â”‚
 * â”‚   ä¿¡å·è¯: ä¸‹ä¸€ä¸ªæ›´å¤§/æ›´å°ã€æŸ±çŠ¶å›¾ã€æ¸©åº¦ã€è‚¡ç¥¨è·¨åº¦           â”‚
 * â”‚   å…¸å‹é¢˜: æ¯æ—¥æ¸©åº¦ã€æŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢ã€æ¥é›¨æ°´                  â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€å•è°ƒé˜Ÿåˆ—ã€‘                                               â”‚
 * â”‚   ä¿¡å·è¯: æ»‘åŠ¨çª—å£æœ€å¤§/æœ€å°å€¼ã€å®šé•¿çª—å£                     â”‚
 * â”‚   å…¸å‹é¢˜: æ»‘åŠ¨çª—å£æœ€å¤§å€¼                                    â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€æ ˆæ¨¡æ‹Ÿã€‘                                                 â”‚
 * â”‚   ä¿¡å·è¯: é€’å½’è½¬è¿­ä»£ã€DFSã€å›é€€æ“ä½œ                         â”‚
 * â”‚   å…¸å‹é¢˜: äºŒå‰æ ‘éé€’å½’éå†ã€å­—ç¬¦ä¸²è§£ç                       â”‚
 * â”‚                                                            â”‚
 * â”‚  ã€é˜Ÿåˆ— - BFSã€‘                                             â”‚
 * â”‚   ä¿¡å·è¯: å±‚åºã€æœ€çŸ­è·¯å¾„ã€å¹¿åº¦ä¼˜å…ˆ                          â”‚
 * â”‚   å…¸å‹é¢˜: äºŒå‰æ ‘å±‚åºéå†ã€å²›å±¿æ•°é‡                          â”‚
 * â”‚                                                            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

// ============================================================
// 3. ä»£ç æ¨¡æ¿
// ============================================================

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// æ¨¡æ¿ä¸€ï¼šæ‹¬å·åŒ¹é…
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š æ‹¬å·åŒ¹é…å›¾è§£ï¼š
 *
 * è¾“å…¥: "({[]})"
 *
 * éå†è¿‡ç¨‹ï¼š
 *   å­—ç¬¦   æ ˆçŠ¶æ€        æ“ä½œ
 *   '('    ['(']        å·¦æ‹¬å·å…¥æ ˆ
 *   '{'    ['(', '{']   å·¦æ‹¬å·å…¥æ ˆ
 *   '['    ['(', '{', '[']  å·¦æ‹¬å·å…¥æ ˆ
 *   ']'    ['(', '{']   åŒ¹é… '['ï¼Œå‡ºæ ˆ
 *   '}'    ['(']        åŒ¹é… '{'ï¼Œå‡ºæ ˆ
 *   ')'    []           åŒ¹é… '('ï¼Œå‡ºæ ˆ
 *
 *   æ ˆä¸ºç©º â†’ æœ‰æ•ˆ
 */
function isValidParentheses(s: string): boolean {
  const stack: string[] = [];
  const pairs: { [key: string]: string } = {
    ')': '(',
    ']': '[',
    '}': '{',
  };

  for (const char of s) {
    if (char === '(' || char === '[' || char === '{') {
      // å·¦æ‹¬å·å…¥æ ˆ
      stack.push(char);
    } else {
      // å³æ‹¬å·ï¼šæ£€æŸ¥æ˜¯å¦åŒ¹é…
      if (stack.pop() !== pairs[char]) {
        return false;
      }
    }
  }

  return stack.length === 0;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// æ¨¡æ¿äºŒï¼šå•è°ƒæ ˆï¼ˆæ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼‰
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š å•è°ƒæ ˆå›¾è§£ï¼ˆå•è°ƒé€’å‡æ ˆï¼Œæ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼‰ï¼š
 *
 * è¾“å…¥: [2, 1, 2, 4, 3]
 *
 * ğŸ”„ æµç¨‹å›¾ (Mermaid):
 * ```mermaid
 * flowchart TD
 *     A[éå†æ¯ä¸ªå…ƒç´ ] --> B{æ ˆéç©º && æ ˆé¡¶ < å½“å‰å…ƒç´ ?}
 *     B -->|Yes| C[å¼¹å‡ºæ ˆé¡¶, å…¶ä¸‹ä¸€ä¸ªæ›´å¤§ = å½“å‰å…ƒç´ ]
 *     C --> B
 *     B -->|No| D[å½“å‰å…ƒç´ ç´¢å¼•å…¥æ ˆ]
 *     D --> E{éå†å®Œæˆ?}
 *     E -->|No| A
 *     E -->|Yes| F[æ ˆä¸­å‰©ä½™å…ƒç´ æ²¡æœ‰æ›´å¤§çš„]
 * ```
 *
 * éå†è¿‡ç¨‹ï¼š
 *   i=0, num=2: æ ˆç©ºï¼Œå…¥æ ˆ            æ ˆ: [0]       ç»“æœ: [-1,-1,-1,-1,-1]
 *   i=1, num=1: 1<2ï¼Œå…¥æ ˆ             æ ˆ: [0,1]     ç»“æœ: [-1,-1,-1,-1,-1]
 *   i=2, num=2: 2>1ï¼Œå¼¹å‡º1ï¼Œå…¥æ ˆ       æ ˆ: [0,2]     ç»“æœ: [-1,2,-1,-1,-1]
 *   i=3, num=4: 4>2>2ï¼Œå¼¹å‡º2å’Œ0ï¼Œå…¥æ ˆ  æ ˆ: [3]       ç»“æœ: [4,2,4,-1,-1]
 *   i=4, num=3: 3<4ï¼Œå…¥æ ˆ             æ ˆ: [3,4]     ç»“æœ: [4,2,4,-1,-1]
 *
 *   æœ€ç»ˆç»“æœ: [4, 2, 4, -1, -1]
 *   ï¼ˆ-1 è¡¨ç¤ºæ²¡æœ‰æ›´å¤§çš„å…ƒç´ ï¼‰
 */

// æ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
function nextGreaterElement(nums: number[]): number[] {
  const n = nums.length;
  const result = new Array(n).fill(-1);
  const stack: number[] = []; // å­˜å‚¨ç´¢å¼•ï¼Œå•è°ƒé€’å‡æ ˆ

  for (let i = 0; i < n; i++) {
    // å½“å‰å…ƒç´ æ¯”æ ˆé¡¶å¤§ï¼Œè¯´æ˜æ‰¾åˆ°äº†æ ˆé¡¶çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
    while (stack.length > 0 && nums[stack[stack.length - 1]] < nums[i]) {
      const index = stack.pop()!;
      result[index] = nums[i];
    }
    stack.push(i);
  }

  return result;
}

// æ‰¾ä¸‹ä¸€ä¸ªæ›´å°å…ƒç´ ï¼ˆå•è°ƒé€’å¢æ ˆï¼‰
function nextSmallerElement(nums: number[]): number[] {
  const n = nums.length;
  const result = new Array(n).fill(-1);
  const stack: number[] = []; // å•è°ƒé€’å¢æ ˆ

  for (let i = 0; i < n; i++) {
    while (stack.length > 0 && nums[stack[stack.length - 1]] > nums[i]) {
      const index = stack.pop()!;
      result[index] = nums[i];
    }
    stack.push(i);
  }

  return result;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// æ¨¡æ¿ä¸‰ï¼šå•è°ƒé˜Ÿåˆ—ï¼ˆæ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼‰
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š å•è°ƒé˜Ÿåˆ—å›¾è§£ï¼ˆå•è°ƒé€’å‡é˜Ÿåˆ—ï¼‰ï¼š
 *
 * è¾“å…¥: [1,3,-1,-3,5,3,6,7], k=3
 *
 * æ ¸å¿ƒæ€æƒ³ï¼š
 * - é˜Ÿåˆ—å­˜å‚¨ç´¢å¼•ï¼Œä¿æŒé˜Ÿåˆ—ä¸­çš„å€¼å•è°ƒé€’å‡
 * - é˜Ÿé¦–å§‹ç»ˆæ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼
 * - æ–°å…ƒç´ å…¥é˜Ÿå‰ï¼Œç§»é™¤æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ 
 * - ç§»åŠ¨çª—å£æ—¶ï¼Œæ£€æŸ¥é˜Ÿé¦–æ˜¯å¦è¿‡æœŸ
 *
 * éå†è¿‡ç¨‹ï¼š
 *   i=0, num=1:  é˜Ÿåˆ—[0]          çª—å£æœªæ»¡
 *   i=1, num=3:  é˜Ÿåˆ—[1]          3>1ï¼Œç§»é™¤0   çª—å£æœªæ»¡
 *   i=2, num=-1: é˜Ÿåˆ—[1,2]        çª—å£[1,3,-1] æœ€å¤§=3
 *   i=3, num=-3: é˜Ÿåˆ—[1,2,3]      çª—å£[3,-1,-3] æœ€å¤§=3
 *   i=4, num=5:  é˜Ÿåˆ—[4]          5>æ‰€æœ‰ï¼Œæ¸…ç©º çª—å£[-1,-3,5] æœ€å¤§=5
 *   i=5, num=3:  é˜Ÿåˆ—[4,5]        çª—å£[-3,5,3] æœ€å¤§=5
 *   i=6, num=6:  é˜Ÿåˆ—[6]          6>æ‰€æœ‰       çª—å£[5,3,6] æœ€å¤§=6
 *   i=7, num=7:  é˜Ÿåˆ—[7]          7>æ‰€æœ‰       çª—å£[3,6,7] æœ€å¤§=7
 *
 *   ç»“æœ: [3, 3, 5, 5, 6, 7]
 */
function maxSlidingWindow(nums: number[], k: number): number[] {
  const result: number[] = [];
  const deque: number[] = []; // åŒç«¯é˜Ÿåˆ—ï¼Œå­˜å‚¨ç´¢å¼•ï¼Œå•è°ƒé€’å‡

  for (let i = 0; i < nums.length; i++) {
    // 1. ç§»é™¤çª—å£å¤–çš„å…ƒç´ ï¼ˆé˜Ÿé¦–è¿‡æœŸï¼‰
    if (deque.length > 0 && deque[0] <= i - k) {
      deque.shift();
    }

    // 2. ä¿æŒå•è°ƒé€’å‡ï¼šç§»é™¤æ‰€æœ‰æ¯”å½“å‰å…ƒç´ å°çš„
    while (deque.length > 0 && nums[deque[deque.length - 1]] < nums[i]) {
      deque.pop();
    }

    // 3. å½“å‰å…ƒç´ å…¥é˜Ÿ
    deque.push(i);

    // 4. çª—å£å½¢æˆåï¼Œè®°å½•æœ€å¤§å€¼
    if (i >= k - 1) {
      result.push(nums[deque[0]]);
    }
  }

  return result;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// æ¨¡æ¿å››ï¼šç”¨æ ˆå®ç°é˜Ÿåˆ— / ç”¨é˜Ÿåˆ—å®ç°æ ˆ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

/**
 * ğŸ“Š ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ï¼š
 *
 *   å…¥é˜Ÿæ ˆ (in)        å‡ºé˜Ÿæ ˆ (out)
 *   â”Œâ”€â”€â”€â”              â”Œâ”€â”€â”€â”
 *   â”‚ 3 â”‚              â”‚ 1 â”‚
 *   â”œâ”€â”€â”€â”¤              â”œâ”€â”€â”€â”¤
 *   â”‚ 2 â”‚              â”‚   â”‚
 *   â””â”€â”€â”€â”˜              â””â”€â”€â”€â”˜
 *
 *   å…¥é˜Ÿï¼šç›´æ¥ push åˆ° in æ ˆ
 *   å‡ºé˜Ÿï¼šå¦‚æœ out æ ˆç©ºï¼ŒæŠŠ in æ ˆå…¨éƒ¨å€’å…¥ out æ ˆï¼Œç„¶å pop
 */
class MyQueue {
  private inStack: number[] = [];
  private outStack: number[] = [];

  push(x: number): void {
    this.inStack.push(x);
  }

  pop(): number {
    this.move();
    return this.outStack.pop()!;
  }

  peek(): number {
    this.move();
    return this.outStack[this.outStack.length - 1];
  }

  empty(): boolean {
    return this.inStack.length === 0 && this.outStack.length === 0;
  }

  private move(): void {
    if (this.outStack.length === 0) {
      while (this.inStack.length > 0) {
        this.outStack.push(this.inStack.pop()!);
      }
    }
  }
}

// ============================================================
// 4. å¤æ‚åº¦åˆ†æ
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚       æ“ä½œ          â”‚ æ—¶é—´å¤æ‚åº¦  â”‚ ç©ºé—´å¤æ‚åº¦  â”‚       è¯´æ˜           â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ æ ˆ push/pop/peek    â”‚   O(1)     â”‚   O(n)     â”‚ åŸºæœ¬æ“ä½œ             â”‚
 * â”‚ é˜Ÿåˆ— enqueue/dequeueâ”‚   O(1)*    â”‚   O(n)     â”‚ *éœ€æ­£ç¡®å®ç°          â”‚
 * â”‚ æ‹¬å·åŒ¹é…            â”‚   O(n)     â”‚   O(n)     â”‚ æ¯ä¸ªå­—ç¬¦å…¥æ ˆä¸€æ¬¡      â”‚
 * â”‚ å•è°ƒæ ˆ              â”‚   O(n)     â”‚   O(n)     â”‚ æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆå‡ºæ ˆå„ä¸€æ¬¡ â”‚
 * â”‚ å•è°ƒé˜Ÿåˆ—            â”‚   O(n)     â”‚   O(k)     â”‚ é˜Ÿåˆ—æœ€å¤šå­˜ k ä¸ªå…ƒç´    â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * å•è°ƒæ ˆ/é˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦è¯æ˜ï¼š
 * - æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆ/é˜Ÿä¸€æ¬¡ï¼Œå‡ºæ ˆ/é˜Ÿä¸€æ¬¡
 * - æ€»æ“ä½œæ¬¡æ•° â‰¤ 2nï¼Œæ‰€ä»¥æ˜¯ O(n)
 */

// ============================================================
// 5. âš ï¸ æ˜“é”™ç‚¹
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                      æ˜“é”™ç‚¹æ€»ç»“                              â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                             â”‚
 * â”‚ ã€æ ˆæ“ä½œã€‘                                                   â”‚
 * â”‚  âš ï¸ pop/peek å‰è¦æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º                             â”‚
 * â”‚  âš ï¸ JavaScript æ•°ç»„çš„ pop() åœ¨ç©ºæ•°ç»„æ—¶è¿”å› undefined        â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ‹¬å·åŒ¹é…ã€‘                                                 â”‚
 * â”‚  âš ï¸ æœ€åè¦æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©ºï¼ˆå¯èƒ½æœ‰å¤šä½™çš„å·¦æ‹¬å·ï¼‰              â”‚
 * â”‚  âš ï¸ æ³¨æ„æ‹¬å·ç±»å‹çš„å¯¹åº”å…³ç³»                                  â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€å•è°ƒæ ˆã€‘                                                   â”‚
 * â”‚  âš ï¸ åˆ†æ¸…å•è°ƒé€’å¢è¿˜æ˜¯å•è°ƒé€’å‡                                â”‚
 * â”‚  âš ï¸ å­˜ç´¢å¼•è¿˜æ˜¯å­˜å€¼è¦æ ¹æ®é¢˜ç›®éœ€æ±‚                            â”‚
 * â”‚  âš ï¸ å¾ªç¯æ•°ç»„è¦éå†ä¸¤éï¼ˆæˆ–ç”¨å–æ¨¡ï¼‰                          â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€å•è°ƒé˜Ÿåˆ—ã€‘                                                 â”‚
 * â”‚  âš ï¸ æ³¨æ„çª—å£è¿‡æœŸçš„åˆ¤æ–­æ¡ä»¶                                  â”‚
 * â”‚  âš ï¸ JavaScript çš„ shift() æ˜¯ O(n)ï¼Œå¤§é‡è°ƒç”¨ä¼šè¶…æ—¶           â”‚
 * â”‚  âš ï¸ å¯ä»¥ç”¨åŒæŒ‡é’ˆæ¨¡æ‹ŸåŒç«¯é˜Ÿåˆ—é¿å… shift                      â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€é˜Ÿåˆ—å®ç°ã€‘                                                 â”‚
 * â”‚  âš ï¸ æ•°ç»„çš„ shift() æ˜¯ O(n)ï¼Œè¦æ³¨æ„æ€§èƒ½                      â”‚
 * â”‚  âš ï¸ ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—æ—¶ï¼Œå€’è…¾æ—¶æœºå¾ˆé‡è¦                      â”‚
 * â”‚                                                             â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

// ============================================================
// 6. ğŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================

/**
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                   å‰ç«¯ä¸šåŠ¡åœºæ™¯åº”ç”¨                           â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚                                                             â”‚
 * â”‚ ã€æ ˆ - æµè§ˆå™¨å†å²ã€‘                                          â”‚
 * â”‚  â€¢ æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½                                     â”‚
 * â”‚  â€¢ ä¸¤ä¸ªæ ˆå®ç°ï¼šback æ ˆå’Œ forward æ ˆ                         â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ ˆ - æ’¤é”€é‡åšã€‘                                            â”‚
 * â”‚  â€¢ ç¼–è¾‘å™¨çš„ Undo/Redo                                       â”‚
 * â”‚  â€¢ æ“ä½œå…¥æ ˆï¼Œæ’¤é”€æ—¶å‡ºæ ˆ                                     â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ ˆ - å‡½æ•°è°ƒç”¨æ ˆã€‘                                          â”‚
 * â”‚  â€¢ JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ                                  â”‚
 * â”‚  â€¢ é€’å½’è°ƒç”¨çš„ç†è§£                                           â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€æ ˆ - æ‹¬å·/æ ‡ç­¾åŒ¹é…ã€‘                                       â”‚
 * â”‚  â€¢ HTML æ ‡ç­¾é…å¯¹æ£€æŸ¥                                        â”‚
 * â”‚  â€¢ JSON æ ¼å¼éªŒè¯                                            â”‚
 * â”‚  â€¢ ä»£ç ç¼–è¾‘å™¨è¯­æ³•æ£€æŸ¥                                       â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€é˜Ÿåˆ— - ä»»åŠ¡è°ƒåº¦ã€‘                                          â”‚
 * â”‚  â€¢ æ¶ˆæ¯é˜Ÿåˆ—                                                 â”‚
 * â”‚  â€¢ äº‹ä»¶å¾ªç¯ä¸­çš„ä»»åŠ¡é˜Ÿåˆ—                                     â”‚
 * â”‚  â€¢ è¯·æ±‚é˜Ÿåˆ—ï¼ˆé™æµï¼‰                                         â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€é˜Ÿåˆ— - BFS éå†ã€‘                                          â”‚
 * â”‚  â€¢ DOM æ ‘çš„å±‚åºéå†                                         â”‚
 * â”‚  â€¢ ç»„ä»¶æ ‘çš„å¹¿åº¦ä¼˜å…ˆæœç´¢                                     â”‚
 * â”‚                                                             â”‚
 * â”‚ ã€å•è°ƒæ ˆ - æ€§èƒ½ä¼˜åŒ–ã€‘                                        â”‚
 * â”‚  â€¢ è‚¡ç¥¨å›¾è¡¨ä¸­æ‰¾ä¸‹ä¸€ä¸ªé«˜ç‚¹                                   â”‚
 * â”‚  â€¢ è™šæ‹Ÿåˆ—è¡¨ä¸­è®¡ç®—å¯è§åŒºåŸŸ                                   â”‚
 * â”‚                                                             â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

// ============================================================
// 7. æ‰©å±•ï¼šJavaScript äº‹ä»¶å¾ªç¯ä¸é˜Ÿåˆ—
// ============================================================

/**
 * ğŸ“Š JavaScript äº‹ä»¶å¾ªç¯å›¾è§£ï¼š
 *
 * ```mermaid
 * flowchart TD
 *     A[è°ƒç”¨æ ˆ Call Stack] --> B{æ ˆç©º?}
 *     B -->|Yes| C[æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—]
 *     C --> D{æœ‰å¾®ä»»åŠ¡?}
 *     D -->|Yes| E[æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡]
 *     E --> C
 *     D -->|No| F[æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—]
 *     F --> G{æœ‰å®ä»»åŠ¡?}
 *     G -->|Yes| H[å–ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œ]
 *     H --> B
 *     G -->|No| I[ç­‰å¾…æ–°ä»»åŠ¡]
 *     I --> B
 * ```
 *
 * å¾®ä»»åŠ¡ï¼ˆMicrotaskï¼‰é˜Ÿåˆ—ï¼š
 * - Promise.then/catch/finally
 * - queueMicrotask()
 * - MutationObserver
 *
 * å®ä»»åŠ¡ï¼ˆMacrotaskï¼‰é˜Ÿåˆ—ï¼š
 * - setTimeout / setInterval
 * - I/O
 * - UI rendering
 * - requestAnimationFrame
 */

export {
  Stack,
  Queue,
  MyQueue,
  isValidParentheses,
  nextGreaterElement,
  nextSmallerElement,
  maxSlidingWindow,
};

