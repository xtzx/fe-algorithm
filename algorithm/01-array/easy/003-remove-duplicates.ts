/**
 * ğŸ“ é¢˜ç›®ï¼šåˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹
 * ğŸ”— é“¾æ¥ï¼šhttps://leetcode.cn/problems/remove-duplicates-from-sorted-array/
 * ğŸ·ï¸ éš¾åº¦ï¼šEasy
 * ğŸ·ï¸ æ ‡ç­¾ï¼šæ•°ç»„ã€åŒæŒ‡é’ˆ
 *
 * ğŸ“‹ é¢˜ç›®æè¿°ï¼š
 * ç»™ä½ ä¸€ä¸ª å‡åºæ’åˆ— çš„æ•°ç»„ numsï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œ
 * ä½¿æ¯ä¸ªå…ƒç´  åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚
 *
 * è¦æ±‚ï¼šä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œå¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚
 *
 * ç¤ºä¾‹ï¼š
 * è¾“å…¥ï¼šnums = [1,1,2]
 * è¾“å‡ºï¼š2, nums = [1,2,_]
 *
 * è¾“å…¥ï¼šnums = [0,0,1,1,1,2,2,3,3,4]
 * è¾“å‡ºï¼š5, nums = [0,1,2,3,4,_,_,_,_,_]
 */

// ============================================================
// ğŸ’¡ æ€è·¯åˆ†æï¼šè¿™é“é¢˜çš„è§£æ³•æ˜¯æ€ä¹ˆæƒ³å‡ºæ¥çš„ï¼Ÿ
// ============================================================
//
// å…³é”®ä¿¡æ¯ï¼šã€Œå‡åºæ’åˆ—ã€ã€ŒåŸåœ°åˆ é™¤ã€ã€Œç›¸åŒå…ƒç´ åªä¿ç•™ä¸€ä¸ªã€
//
// 1. å› ä¸ºæ•°ç»„æœ‰åºï¼Œæ‰€ä»¥ç›¸åŒçš„å…ƒç´ ä¸€å®šç›¸é‚»
//
// 2. é—®é¢˜è½¬åŒ–ï¼š
//    - åŸé—®é¢˜ï¼šåˆ é™¤é‡å¤å…ƒç´ 
//    - è½¬åŒ–ä¸ºï¼šæŠŠä¸é‡å¤çš„å…ƒç´ ç§»åˆ°å‰é¢
//
// 3. å¿«æ…¢æŒ‡é’ˆæ€è·¯ï¼š
//    - slowï¼šæŒ‡å‘å·²å»é‡åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ 
//    - fastï¼šéå†æ•°ç»„
//    - å½“ nums[fast] â‰  nums[slow] æ—¶ï¼Œè¯´æ˜é‡åˆ°æ–°å…ƒç´ ï¼Œæ”¾å…¥ slow+1
//
//    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
//    â”‚  å·²å»é‡ï¼ˆå”¯ä¸€ï¼‰    â”‚       æœªå¤„ç†           â”‚
//    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//                       â†‘                        â†‘
//                      slow                     fast

// ============================================================
// è§£æ³•ä¸€ï¼šå¿«æ…¢æŒ‡é’ˆï¼ˆæ¨èï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(1)

/**
 * ğŸ“Š æ‰§è¡Œè¿‡ç¨‹å›¾è§£ï¼š
 *
 * è¾“å…¥ï¼š[0, 0, 1, 1, 1, 2, 2, 3, 3, 4]
 *
 *   åˆå§‹:    [0, 0, 1, 1, 1, 2, 2, 3, 3, 4]
 *             â†‘  â†‘
 *           slow fast (ä»1å¼€å§‹)
 *
 *   fast=1:  nums[1]=0 == nums[0]=0, è·³è¿‡
 *
 *   fast=2:  nums[2]=1 â‰  nums[0]=0, slow++, å¤åˆ¶
 *            [0, 1, 1, 1, 1, 2, 2, 3, 3, 4]
 *                â†‘  â†‘
 *              slow fast
 *
 *   fast=3:  nums[3]=1 == nums[1]=1, è·³è¿‡
 *   fast=4:  nums[4]=1 == nums[1]=1, è·³è¿‡
 *
 *   fast=5:  nums[5]=2 â‰  nums[1]=1, slow++, å¤åˆ¶
 *            [0, 1, 2, 1, 1, 2, 2, 3, 3, 4]
 *                   â†‘           â†‘
 *                 slow        fast
 *
 *   fast=6:  nums[6]=2 == nums[2]=2, è·³è¿‡
 *
 *   fast=7:  nums[7]=3 â‰  nums[2]=2, slow++, å¤åˆ¶
 *            [0, 1, 2, 3, 1, 2, 2, 3, 3, 4]
 *                      â†‘              â†‘
 *                    slow           fast
 *
 *   fast=8:  nums[8]=3 == nums[3]=3, è·³è¿‡
 *
 *   fast=9:  nums[9]=4 â‰  nums[3]=3, slow++, å¤åˆ¶
 *            [0, 1, 2, 3, 4, 2, 2, 3, 3, 4]
 *                         â†‘              â†‘
 *                       slow           fast
 *
 * è¿”å› slow + 1 = 5
 * æœ‰æ•ˆéƒ¨åˆ†ï¼š[0, 1, 2, 3, 4]
 */
function removeDuplicates_v1(nums: number[]): number {
  if (nums.length === 0) return 0;

  let slow = 0; // æŒ‡å‘å·²å»é‡åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ 

  for (let fast = 1; fast < nums.length; fast++) {
    // é‡åˆ°ä¸åŒçš„å…ƒç´ ï¼Œè¯´æ˜æ˜¯æ–°å…ƒç´ 
    if (nums[fast] !== nums[slow]) {
      slow++;
      nums[slow] = nums[fast];
    }
  }

  return slow + 1; // è¿”å›å»é‡åçš„é•¿åº¦
}

// ============================================================
// è§£æ³•äºŒï¼šé€šç”¨å†™æ³•ï¼ˆé€‚ç”¨äºä¿ç•™kä¸ªé‡å¤ï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(1)
// ğŸ“ è¿™ä¸ªå†™æ³•å¯ä»¥è½»æ¾æ‰©å±•ä¸ºã€Œæœ€å¤šä¿ç•™kä¸ªé‡å¤å…ƒç´ ã€

/**
 * é€šç”¨æ¨¡æ¿ï¼šæœ€å¤šä¿ç•™ k ä¸ªé‡å¤å…ƒç´ 
 *
 * å½“ k=1 æ—¶ï¼Œå°±æ˜¯æœ¬é¢˜
 * å½“ k=2 æ—¶ï¼Œå°±æ˜¯ LeetCode 80 é¢˜
 */
function removeDuplicates_v2(nums: number[], k: number = 1): number {
  if (nums.length <= k) return nums.length;

  let slow = k; // å‰ k ä¸ªå…ƒç´ ç›´æ¥ä¿ç•™

  for (let fast = k; fast < nums.length; fast++) {
    // æ¯”è¾ƒå½“å‰å…ƒç´ å’Œå·²ä¿ç•™åŒºåŸŸçš„ç¬¬ slow-k ä¸ªå…ƒç´ 
    // å¦‚æœä¸åŒï¼Œè¯´æ˜å¯ä»¥ä¿ç•™
    if (nums[fast] !== nums[slow - k]) {
      nums[slow] = nums[fast];
      slow++;
    }
  }

  return slow;
}

// ============================================================
// ğŸ”„ è§£æ³•å¯¹æ¯”
// ============================================================
/**
 * | è§£æ³•         | æ—¶é—´  | ç©ºé—´  | ç‰¹ç‚¹                     |
 * |-------------|-------|-------|-------------------------|
 * | å¿«æ…¢æŒ‡é’ˆ     | O(n)  | O(1)  | ç›´è§‚æ˜“æ‡‚                 |
 * | é€šç”¨æ¨¡æ¿     | O(n)  | O(1)  | å¯æ‰©å±•ä¸ºä¿ç•™kä¸ªé‡å¤       |
 *
 * ä¸¤ç§å†™æ³•çš„åŒºåˆ«ï¼š
 * - è§£æ³•ä¸€ï¼šslow æŒ‡å‘å·²å»é‡åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ 
 * - è§£æ³•äºŒï¼šslow æŒ‡å‘ä¸‹ä¸€ä¸ªå¾…æ”¾ç½®çš„ä½ç½®
 */

// ============================================================
// âš ï¸ æ˜“é”™ç‚¹
// ============================================================
/**
 * 1. ç©ºæ•°ç»„å¤„ç†ï¼šnums.length === 0 æ—¶è¿”å› 0
 * 2. slow çš„å«ä¹‰ï¼š
 *    - è§£æ³•ä¸€ï¼šæŒ‡å‘å·²å»é‡åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¿”å› slow + 1
 *    - è§£æ³•äºŒï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªå¾…æ”¾ç½®çš„ä½ç½®ï¼Œè¿”å› slow
 * 3. fast ä» 1 å¼€å§‹ï¼šå› ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ è‚¯å®šè¦ä¿ç•™
 * 4. è¿”å›å€¼æ˜¯é•¿åº¦ï¼Œä¸æ˜¯ä¸‹æ ‡
 */

// ============================================================
// ğŸ”— ä¸¾ä¸€åä¸‰ï¼šç›¸ä¼¼é¢˜ç›®
// ============================================================
/**
 * - åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ IIï¼ˆæœ€å¤šä¿ç•™2ä¸ªï¼‰â†’ ç”¨é€šç”¨æ¨¡æ¿ k=2
 * - ç§»åŠ¨é›¶ â†’ å¿«æ…¢æŒ‡é’ˆ
 * - ç§»é™¤å…ƒç´  â†’ å¿«æ…¢æŒ‡é’ˆ
 * - åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  â†’ ç±»ä¼¼æ€è·¯
 */

// ============================================================
// ğŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================
/**
 * 1. æ•°æ®å»é‡ï¼šå¯¹æœ‰åºæ•°ç»„/æ—¥å¿—è¿›è¡Œå»é‡
 * 2. æœç´¢å†å²ï¼šä¿ç•™æœ€è¿‘çš„ä¸é‡å¤æœç´¢è®°å½•
 * 3. æ¶ˆæ¯å»é‡ï¼šç›¸é‚»é‡å¤æ¶ˆæ¯åªæ˜¾ç¤ºä¸€æ¡
 * 4. æ—¶é—´çº¿åˆå¹¶ï¼šåˆå¹¶å¤šä¸ªæœ‰åºæ—¶é—´çº¿å¹¶å»é‡
 */

// å¯¼å‡ºä¸»è§£æ³•
export { removeDuplicates_v1, removeDuplicates_v2 };
export default removeDuplicates_v1;

