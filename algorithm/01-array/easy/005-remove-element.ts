/**
 * ğŸ“ é¢˜ç›®ï¼šç§»é™¤å…ƒç´ 
 * ğŸ”— é“¾æ¥ï¼šhttps://leetcode.cn/problems/remove-element/
 * ğŸ·ï¸ éš¾åº¦ï¼šEasy
 * ğŸ·ï¸ æ ‡ç­¾ï¼šæ•°ç»„ã€åŒæŒ‡é’ˆ
 *
 * ğŸ“‹ é¢˜ç›®æè¿°ï¼š
 * ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œ
 * å¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚
 *
 * ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚
 * å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
 *
 * ç¤ºä¾‹ï¼š
 * è¾“å…¥ï¼šnums = [3,2,2,3], val = 3
 * è¾“å‡ºï¼š2, nums = [2,2,_,_]
 * è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2ï¼Œå¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2
 */

// ============================================================
// ğŸ’¡ æ€è·¯åˆ†æ
// ============================================================
//
// å…³é”®è¯ï¼šåŸåœ°ä¿®æ”¹ã€O(1) ç©ºé—´ â†’ å¿«æ…¢æŒ‡é’ˆ
//
// æ€è·¯ï¼š
// - slowï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªè¦å†™å…¥çš„ä½ç½®ï¼ˆå·²å¤„ç†åŒºåŸŸçš„æœ«å°¾ï¼‰
// - fastï¼šéå†æ•°ç»„ï¼Œè·³è¿‡ç­‰äº val çš„å…ƒç´ 
// - åªæœ‰ nums[fast] !== val æ—¶ï¼Œæ‰å†™å…¥åˆ° slow ä½ç½®

// ============================================================
// è§£æ³•ä¸€ï¼šå¿«æ…¢æŒ‡é’ˆï¼ˆæ¨èï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(1)

/**
 * ğŸ“Š æ‰§è¡Œè¿‡ç¨‹å›¾è§£ï¼š
 *
 * nums = [3, 2, 2, 3], val = 3
 *
 * åˆå§‹:     [3, 2, 2, 3]
 *            â†‘
 *          slow/fast
 *
 * Step 1:  [3, 2, 2, 3]    nums[fast]=3 == val, è·³è¿‡
 *           â†‘  â†‘
 *         slow fast
 *
 * Step 2:  [2, 2, 2, 3]    nums[fast]=2 != val, å¤åˆ¶, slow++
 *              â†‘  â†‘
 *            slow fast
 *
 * Step 3:  [2, 2, 2, 3]    nums[fast]=2 != val, å¤åˆ¶, slow++
 *                 â†‘  â†‘
 *               slow fast
 *
 * Step 4:  [2, 2, 2, 3]    nums[fast]=3 == val, è·³è¿‡
 *                 â†‘     â†‘
 *               slow   fast (ç»“æŸ)
 *
 * è¿”å› slow = 2
 * nums çš„å‰ä¸¤ä¸ªå…ƒç´ : [2, 2]
 */
function removeElement_v1(nums: number[], val: number): number {
  let slow = 0;

  for (let fast = 0; fast < nums.length; fast++) {
    if (nums[fast] !== val) {
      nums[slow] = nums[fast];
      slow++;
    }
  }

  return slow;
}

// ============================================================
// è§£æ³•äºŒï¼šå¯¹æ’æŒ‡é’ˆï¼ˆä¼˜åŒ–ç‰ˆï¼Œé€‚åˆè¦åˆ é™¤çš„å…ƒç´ å¾ˆå°‘çš„æƒ…å†µï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(1)
// ğŸ“ ç‰¹ç‚¹ï¼šèµ‹å€¼æ“ä½œæ¬¡æ•°æœ€å°‘

/**
 * ğŸ“Š æ‰§è¡Œè¿‡ç¨‹å›¾è§£ï¼š
 *
 * nums = [3, 2, 2, 3], val = 3
 *
 * åˆå§‹:     [3, 2, 2, 3]
 *            â†‘        â†‘
 *          left     right
 *
 * Step 1:  nums[left]=3 == val
 *          ç”¨ nums[right] è¦†ç›– nums[left]ï¼Œright--
 *          [3, 2, 2, 3]    (è¿˜æ²¡è¦†ç›–ï¼Œå…ˆ right--)
 *           â†‘     â†‘
 *         left  right
 *
 * Step 2:  [2, 2, 2, 3]    è¦†ç›–åå†æ£€æŸ¥ nums[left]
 *           â†‘     â†‘
 *         left  right
 *
 *          nums[left]=2 != val, left++
 *
 * Step 3:  [2, 2, 2, 3]
 *              â†‘  â†‘
 *            left right
 *
 *          nums[left]=2 != val, left++
 *
 * Step 4:  [2, 2, 2, 3]
 *                 â†‘
 *             left/right
 *
 *          left > right, ç»“æŸ
 *
 * è¿”å› left = 2
 */
function removeElement_v2(nums: number[], val: number): number {
  let left = 0;
  let right = nums.length - 1;

  while (left <= right) {
    if (nums[left] === val) {
      // ç”¨æœ€åä¸€ä¸ªå…ƒç´ è¦†ç›–å½“å‰å…ƒç´ 
      nums[left] = nums[right];
      right--;
      // æ³¨æ„ï¼šä¸ç§»åŠ¨ leftï¼Œå› ä¸ºäº¤æ¢è¿‡æ¥çš„å…ƒç´ è¿˜éœ€è¦æ£€æŸ¥
    } else {
      left++;
    }
  }

  return left;
}

// ============================================================
// ğŸ”„ è§£æ³•å¯¹æ¯”
// ============================================================
/**
 * | è§£æ³•       | æ—¶é—´  | ç©ºé—´  | èµ‹å€¼æ¬¡æ•°  | ä¿æŒé¡ºåº |
 * |-----------|-------|-------|----------|---------|
 * | å¿«æ…¢æŒ‡é’ˆ   | O(n)  | O(1)  | n-k      | âœ… æ˜¯    |
 * | å¯¹æ’æŒ‡é’ˆ   | O(n)  | O(1)  | k        | âŒ å¦    |
 *
 * k = éœ€è¦åˆ é™¤çš„å…ƒç´ æ•°é‡
 *
 * é€‰æ‹©å»ºè®®ï¼š
 * - å¦‚æœéœ€è¦ä¿æŒå…ƒç´ ç›¸å¯¹é¡ºåº â†’ å¿«æ…¢æŒ‡é’ˆ
 * - å¦‚æœåˆ é™¤çš„å…ƒç´ å¾ˆå°‘ï¼Œæƒ³å‡å°‘èµ‹å€¼æ“ä½œ â†’ å¯¹æ’æŒ‡é’ˆ
 */

// ============================================================
// âš ï¸ æ˜“é”™ç‚¹
// ============================================================
/**
 * 1. å¯¹æ’æŒ‡é’ˆç‰ˆæœ¬ï¼Œè¦†ç›–åä¸è¦ left++ï¼š
 *    å› ä¸ºäº¤æ¢è¿‡æ¥çš„å…ƒç´ å¯èƒ½ä¹Ÿæ˜¯ valï¼Œéœ€è¦å†æ£€æŸ¥ä¸€æ¬¡
 *
 * 2. è¾¹ç•Œæ¡ä»¶ï¼š
 *    - ç©ºæ•°ç»„ â†’ è¿”å› 0
 *    - æ‰€æœ‰å…ƒç´ éƒ½ç­‰äº val â†’ è¿”å› 0
 *    - æ²¡æœ‰å…ƒç´ ç­‰äº val â†’ è¿”å› nums.length
 *
 * 3. å¿«æ…¢æŒ‡é’ˆçš„å†™æ³•ï¼š
 *    - nums[slow] = nums[fast] è¦åœ¨ slow++ ä¹‹å‰
 */

// ============================================================
// ğŸ”— ä¸¾ä¸€åä¸‰ï¼šç›¸ä¼¼é¢˜ç›®
// ============================================================
/**
 * - ç§»åŠ¨é›¶ â†’ å¿«æ…¢æŒ‡é’ˆï¼Œç„¶åå¡«å…… 0
 * - åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ â†’ å¿«æ…¢æŒ‡é’ˆï¼Œæ¯”è¾ƒ nums[slow] å’Œ nums[fast]
 * - åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II â†’ æ¯”è¾ƒ nums[slow-1] å’Œ nums[fast]
 */

// ============================================================
// ğŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================
/**
 * 1. è¿‡æ»¤åˆ—è¡¨ï¼šåŸåœ°ç§»é™¤ä¸ç¬¦åˆæ¡ä»¶çš„é¡¹ç›®
 * 2. æ¸…ç†æ•°æ®ï¼šç§»é™¤æ— æ•ˆæˆ–è¿‡æœŸçš„ç¼“å­˜é¡¹
 * 3. è¡¨å•éªŒè¯ï¼šç§»é™¤ç©ºå€¼æˆ–æ— æ•ˆçš„è¡¨å•å­—æ®µ
 */

export { removeElement_v1, removeElement_v2 };
export default removeElement_v1;

