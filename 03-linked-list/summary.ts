/**
 * ============================================================
 * 📊 Step 03: 链表 - 问题归类总结
 * ============================================================
 *
 * 本文件用于帮助你：
 * 1. 快速识别问题类型
 * 2. 选择合适的解法模式
 * 3. 建立题目之间的联系
 */

// ============================================================
// 1. 题目分类
// ============================================================

/**
 * ┌─────────────────────────────────────────────────────────────────────┐
 * │                        链表问题分类                                  │
 * ├─────────────────────────────────────────────────────────────────────┤
 * │                                                                     │
 * │  【快慢指针】                                                        │
 * │   ├─ 环形链表（检测环）                        Easy                  │
 * │   ├─ 环形链表 II（找环入口）                   Medium                │
 * │   ├─ 链表的中间结点                           Easy                  │
 * │   ├─ 回文链表                                 Easy                  │
 * │   └─ 删除链表的倒数第 N 个结点                 Medium                │
 * │                                                                     │
 * │  【链表反转】                                                        │
 * │   ├─ 反转链表                                 Easy                  │
 * │   ├─ 反转链表 II                              Medium                │
 * │   ├─ K 个一组翻转链表                         Hard                  │
 * │   └─ 回文链表（反转后半部分）                  Easy                  │
 * │                                                                     │
 * │  【合并/排序】                                                       │
 * │   ├─ 合并两个有序链表                         Easy                  │
 * │   ├─ 合并 K 个升序链表                        Hard                  │
 * │   └─ 排序链表                                 Medium                │
 * │                                                                     │
 * │  【虚拟头节点】                                                       │
 * │   ├─ 两数相加                                 Medium                │
 * │   ├─ 删除链表的倒数第 N 个结点                 Medium                │
 * │   └─ 合并类问题                               各难度                 │
 * │                                                                     │
 * │  【综合应用】                                                        │
 * │   ├─ 重排链表                                 Medium                │
 * │   ├─ 复制带随机指针的链表                      Medium                │
 * │   └─ LRU 缓存                                 Hard                  │
 * │                                                                     │
 * └─────────────────────────────────────────────────────────────────────┘
 */

// ============================================================
// 2. 信号词 → 解法模式
// ============================================================

/**
 * 🎯 信号词识别表
 *
 * ┌──────────────────────┬────────────────────────┬──────────────────────┐
 * │      信号词          │       解法模式          │       典型题目        │
 * ├──────────────────────┼────────────────────────┼──────────────────────┤
 * │ 环、循环              │ 快慢指针               │ 环形链表             │
 * │ 中点、中间            │ 快慢指针               │ 链表的中间结点        │
 * │ 倒数第 N 个           │ 快慢指针（间隔 N）      │ 删除倒数第 N 个       │
 * │ 回文                  │ 快慢指针 + 反转         │ 回文链表             │
 * │                      │                        │                      │
 * │ 反转、逆序            │ 链表反转               │ 反转链表             │
 * │ 翻转、倒置            │ 链表反转               │ K 个一组翻转         │
 * │                      │                        │                      │
 * │ 合并、有序            │ 归并思想               │ 合并有序链表         │
 * │ 排序                  │ 归并排序               │ 排序链表             │
 * │                      │                        │                      │
 * │ 删除、插入头部        │ 虚拟头节点             │ 两数相加             │
 * │ 可能改变头节点        │ dummy node             │ 删除节点             │
 * │                      │                        │                      │
 * │ 缓存、淘汰            │ 双向链表 + 哈希表       │ LRU 缓存             │
 * │ 深拷贝、复制          │ 哈希表 / 原地复制       │ 复制随机指针链表      │
 * └──────────────────────┴────────────────────────┴──────────────────────┘
 */

// ============================================================
// 3. 模板选择指南
// ============================================================

/**
 * 📋 解题流程图：
 *
 * ```mermaid
 * flowchart TD
 *     A[链表问题] --> B{是否涉及环?}
 *     B -->|Yes| C[快慢指针]
 *     B -->|No| D{是否需要找中点/倒数第N个?}
 *     D -->|Yes| C
 *     D -->|No| E{是否需要反转?}
 *     E -->|Yes| F[链表反转模板]
 *     E -->|No| G{是否涉及合并/排序?}
 *     G -->|Yes| H[归并思想]
 *     G -->|No| I{是否可能改变头节点?}
 *     I -->|Yes| J[使用虚拟头节点]
 *     I -->|No| K{是否需要O(1)访问?}
 *     K -->|Yes| L[双向链表+哈希表]
 *     K -->|No| M[直接遍历]
 * ```
 */

// ============================================================
// 4. 题目关联图
// ============================================================

/**
 * 📊 题目之间的关联：
 *
 * ```mermaid
 * graph LR
 *     subgraph 快慢指针系列
 *         A1[环形链表] --> A2[环形链表 II]
 *         A3[链表中点] --> A4[回文链表]
 *         A3 --> A5[排序链表]
 *         A1 --> A6[快乐数]
 *     end
 *
 *     subgraph 链表反转系列
 *         B1[反转链表] --> B2[反转链表 II]
 *         B2 --> B3[K个一组翻转]
 *         B1 --> A4
 *     end
 *
 *     subgraph 合并系列
 *         C1[合并两个有序链表] --> C2[合并K个升序链表]
 *         C1 --> A5
 *     end
 *
 *     subgraph 综合设计
 *         D1[复制随机指针链表] --> D2[克隆图]
 *         D3[LRU缓存] --> D4[LFU缓存]
 *     end
 * ```
 */

// ============================================================
// 5. 本章习题清单
// ============================================================

export const problemList = {
  easy: [
    {
      id: '001',
      title: '反转链表',
      leetcode: 206,
      techniques: ['迭代', '递归'],
      keyPoint: '链表反转是基础操作，必须熟练',
    },
    {
      id: '002',
      title: '合并两个有序链表',
      leetcode: 21,
      techniques: ['迭代', '递归', '虚拟头节点'],
      keyPoint: '归并思想的基础',
    },
    {
      id: '003',
      title: '环形链表',
      leetcode: 141,
      techniques: ['快慢指针', '哈希表'],
      keyPoint: '快慢指针检测环的经典应用',
    },
    {
      id: '004',
      title: '回文链表',
      leetcode: 234,
      techniques: ['快慢指针', '链表反转'],
      keyPoint: '综合运用多个技巧',
    },
  ],

  medium: [
    {
      id: '001',
      title: '两数相加',
      leetcode: 2,
      techniques: ['虚拟头节点', '模拟加法'],
      keyPoint: '处理进位和不同长度',
    },
    {
      id: '002',
      title: '删除链表的倒数第 N 个结点',
      leetcode: 19,
      techniques: ['快慢指针', '虚拟头节点'],
      keyPoint: '双指针间隔 N 个节点',
    },
    {
      id: '003',
      title: '环形链表 II',
      leetcode: 142,
      techniques: ['快慢指针', '数学推导'],
      keyPoint: '理解找环入口的数学原理',
    },
    {
      id: '004',
      title: '排序链表',
      leetcode: 148,
      techniques: ['归并排序', '快慢指针'],
      keyPoint: '链表上的归并排序',
    },
    {
      id: '005',
      title: '重排链表',
      leetcode: 143,
      techniques: ['快慢指针', '链表反转', '合并'],
      keyPoint: '综合运用三个技巧',
    },
    {
      id: '006',
      title: '复制带随机指针的链表',
      leetcode: 138,
      techniques: ['哈希表', '原地复制'],
      keyPoint: '深拷贝的思想',
    },
  ],

  hard: [
    {
      id: '001',
      title: '合并 K 个升序链表',
      leetcode: 23,
      techniques: ['分治', '优先队列'],
      keyPoint: '分治思想，时间复杂度分析',
    },
    {
      id: '002',
      title: 'K 个一组翻转链表',
      leetcode: 25,
      techniques: ['链表反转', '迭代/递归'],
      keyPoint: '分组处理，边界情况',
    },
    {
      id: '003',
      title: 'LRU 缓存',
      leetcode: 146,
      techniques: ['双向链表', '哈希表'],
      keyPoint: '设计数据结构，O(1) 操作',
    },
  ],
};

// ============================================================
// 6. 学习检查清单
// ============================================================

/**
 * ✅ 链表学习检查清单：
 *
 * 基础操作：
 * □ 能手写链表节点定义
 * □ 能实现链表的遍历、插入、删除
 * □ 理解单链表和双向链表的区别
 *
 * 快慢指针：
 * □ 能用快慢指针找链表中点
 * □ 能用快慢指针检测环
 * □ 能用快慢指针找环的入口（理解数学证明）
 * □ 能用快慢指针找倒数第 N 个节点
 *
 * 链表反转：
 * □ 能用迭代法反转链表
 * □ 能用递归法反转链表
 * □ 能反转链表的一部分
 * □ 能 K 个一组翻转链表
 *
 * 合并与排序：
 * □ 能合并两个有序链表
 * □ 能合并 K 个有序链表（分治法）
 * □ 能对链表进行归并排序
 *
 * 综合设计：
 * □ 理解虚拟头节点的作用
 * □ 能实现 LRU 缓存
 * □ 能深拷贝带随机指针的链表
 */

// ============================================================
// 7. 常见错误总结
// ============================================================

/**
 * ⚠️ 链表常见错误：
 *
 * 1. 空指针访问
 *    错误: node.next.val  // node.next 可能为 null
 *    正确: node?.next?.val 或先检查
 *
 * 2. 链表断裂
 *    错误: curr.next = prev; curr = curr.next;
 *    正确: 先保存 next，再修改指针
 *
 * 3. 忘记断开连接
 *    错误: 分割链表时不断开原连接
 *    正确: mid.next = null;
 *
 * 4. 返回值错误
 *    错误: 返回 dummy 而不是 dummy.next
 *    正确: return dummy.next;
 *
 * 5. 循环条件错误
 *    错误: while (fast) // 快慢指针
 *    正确: while (fast && fast.next)
 */

// ============================================================
// 8. 复杂度速查表
// ============================================================

/**
 * ┌─────────────────────────┬────────────┬────────────┐
 * │        操作             │ 时间复杂度  │ 空间复杂度  │
 * ├─────────────────────────┼────────────┼────────────┤
 * │ 快慢指针（找中点/环）    │   O(n)     │   O(1)     │
 * │ 迭代反转                │   O(n)     │   O(1)     │
 * │ 递归反转                │   O(n)     │   O(n)     │
 * │ 合并两个有序链表        │   O(m+n)   │   O(1)     │
 * │ 合并 K 个有序链表(分治)  │ O(N log k) │ O(log k)   │
 * │ 合并 K 个有序链表(堆)    │ O(N log k) │   O(k)     │
 * │ 归并排序链表            │ O(n log n) │ O(log n)   │
 * │ LRU 缓存 get/put        │   O(1)     │   O(n)     │
 * └─────────────────────────┴────────────┴────────────┘
 */

export default problemList;

