
================================================================================
【D2】关系型数据库（MySQL）
================================================================================

```text
你现在是「Node.js 数据库操作专家 & 资深面试官」，
要为一位「7-8 年资深前端工程师」从 BFF 视角讲解 MySQL 基础，面向中高级面试。

【本次主题】D2：关系型数据库（MySQL）

说明：从 BFF 开发者视角理解数据库，不需要 DBA 级别深度，但要能应对面试和日常开发。

必须覆盖以下内容（每项都要有详细讲解 + 代码示例）：

1）关系型数据库基础
   - 什么是关系型数据库
   - 核心概念：
     - 表（Table）：行和列
     - 行（Row）：一条记录
     - 列（Column）：字段
     - 主键（Primary Key）：唯一标识
     - 外键（Foreign Key）：关联
   - SQL 语言类型：
     - DDL：定义（CREATE, ALTER, DROP）
     - DML：操作（SELECT, INSERT, UPDATE, DELETE）
     - DCL：权限（GRANT, REVOKE）

2）基础 CRUD 操作
   - SELECT 查询：
     - WHERE 条件
     - ORDER BY 排序
     - LIMIT 分页
     - 聚合函数：COUNT, SUM, AVG, MAX, MIN
     - GROUP BY 分组
   - INSERT 插入
   - UPDATE 更新
   - DELETE 删除
   - SQL 注入风险与预防

3）索引基础 ⭐
   - 什么是索引：加速查询的数据结构
   - B+ 树简介（不需要深入原理）
   - 索引类型：
     - 主键索引
     - 唯一索引
     - 普通索引
     - 联合索引
   - 索引使用原则：
     - 查询条件的字段加索引
     - 避免过多索引
     - 最左前缀原则
   - EXPLAIN 查看执行计划

4）事务与 ACID ⭐
   - 什么是事务：一组原子操作
   - ACID 特性：
     - Atomicity（原子性）
     - Consistency（一致性）
     - Isolation（隔离性）
     - Durability（持久性）
   - 事务控制：
     - BEGIN / COMMIT / ROLLBACK
   - 隔离级别：
     - READ UNCOMMITTED
     - READ COMMITTED
     - REPEATABLE READ（MySQL 默认）
     - SERIALIZABLE
   - 常见问题：脏读、不可重复读、幻读

5）分页查询
   - OFFSET/LIMIT 分页：
     - SELECT * FROM users LIMIT 10 OFFSET 20
     - 问题：大偏移量性能差
   - 游标分页：
     - SELECT * FROM users WHERE id > last_id LIMIT 10
     - 优点：性能稳定
   - 两种方式对比与选择

6）联表查询
   - JOIN 类型：
     - INNER JOIN：交集
     - LEFT JOIN：左表全部 + 匹配
     - RIGHT JOIN：右表全部 + 匹配
   - 使用场景
   - 性能注意事项

7）Node.js MySQL 客户端
   - mysql2 库（推荐）：
     - 支持 Promise
     - 连接池
   - 连接配置
   - 连接池管理：
     - 为什么需要连接池
     - 配置参数
   - 预处理语句（防注入）
   - 事务示例

8）表设计示例
   - 用户表（users）
   - 订单表（orders）
   - 关系设计
   - 常见字段类型选择

9）BFF 中的数据库实践
   - 读写分离简介
   - 连接池配置
   - 查询优化
   - Repository 模式封装

10）面试高频问题（至少 6 个问题 + 加分回答）
   - 什么是索引？为什么能加速查询？
   - 什么是事务？ACID 是什么？
   - OFFSET 分页有什么问题？如何优化？
   - LEFT JOIN 和 INNER JOIN 有什么区别？
   - 如何防止 SQL 注入？
   - 你们数据库是怎么用的？

【输出形式要求：多文件、多格式】

/node-mysql-basics/
├── README.md
├── docs/
│   ├── 01-relational-db-basics.md
│   ├── 02-crud-operations.md
│   ├── 03-index-basics.md
│   ├── 04-transactions-and-acid.md
│   ├── 05-pagination.md
│   └── 06-interview-questions.md
├── examples/
│   ├── connection/
│   │   ├── mysql-client.ts
│   │   └── connection-pool.ts
│   ├── crud/
│   │   ├── select-examples.ts
│   │   ├── insert-update-delete.ts
│   │   └── prepared-statement.ts
│   ├── advanced/
│   │   ├── transaction-example.ts
│   │   ├── join-example.ts
│   │   └── pagination.ts
│   └── repository/
│       └── user-repository.ts
├── sql/
│   ├── create-tables.sql
│   └── sample-data.sql
└── scripts/
    └── run-examples.sh

要求：

1. 先输出完整目录树。
2. 重点是索引、事务、分页。
3. 使用 mysql2 + TypeScript。
4. 包含防注入的预处理语句示例。

请从项目结构开始，然后依次输出每个文件的完整内容。
```

================================================================================

