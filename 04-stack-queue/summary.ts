/**
 * ============================================================
 * 📊 Step 04: 栈与队列 - 问题归类总结
 * ============================================================
 *
 * 本文件用于帮助你：
 * 1. 快速识别问题类型
 * 2. 选择合适的解法模式
 * 3. 建立题目之间的联系
 */

// ============================================================
// 1. 题目分类
// ============================================================

/**
 * ┌─────────────────────────────────────────────────────────────────────┐
 * │                      栈与队列问题分类                                │
 * ├─────────────────────────────────────────────────────────────────────┤
 * │                                                                     │
 * │  【栈 - 括号匹配】                                                   │
 * │   ├─ 有效的括号                             Easy                    │
 * │   ├─ 括号生成                               Medium                  │
 * │   └─ 最长有效括号                           Hard                    │
 * │                                                                     │
 * │  【栈 - 表达式计算】                                                 │
 * │   ├─ 逆波兰表达式求值                       Medium                  │
 * │   ├─ 基本计算器                             Hard                    │
 * │   └─ 基本计算器 II                          Medium                  │
 * │                                                                     │
 * │  【栈 - 嵌套解码】                                                   │
 * │   ├─ 字符串解码                             Medium                  │
 * │   └─ 原子的数量                             Hard                    │
 * │                                                                     │
 * │  【单调栈】                                                          │
 * │   ├─ 每日温度                               Medium                  │
 * │   ├─ 下一个更大元素 I/II                    Easy/Medium             │
 * │   ├─ 柱状图中最大的矩形                     Hard                    │
 * │   ├─ 接雨水                                 Hard                    │
 * │   └─ 移掉 K 位数字                          Medium                  │
 * │                                                                     │
 * │  【单调队列】                                                        │
 * │   └─ 滑动窗口最大值                         Hard                    │
 * │                                                                     │
 * │  【设计类】                                                          │
 * │   ├─ 用栈实现队列                           Easy                    │
 * │   ├─ 用队列实现栈                           Easy                    │
 * │   └─ 最小栈                                 Easy                    │
 * │                                                                     │
 * │  【栈模拟】                                                          │
 * │   ├─ 简化路径                               Medium                  │
 * │   └─ 验证栈序列                             Medium                  │
 * │                                                                     │
 * └─────────────────────────────────────────────────────────────────────┘
 */

// ============================================================
// 2. 信号词 → 解法模式
// ============================================================

/**
 * 🎯 信号词识别表
 *
 * ┌──────────────────────┬────────────────────────┬──────────────────────┐
 * │      信号词          │       解法模式          │       典型题目        │
 * ├──────────────────────┼────────────────────────┼──────────────────────┤
 * │ 括号、有效、匹配      │ 栈                     │ 有效的括号            │
 * │ 嵌套、解码、展开      │ 栈（保存/恢复状态）    │ 字符串解码            │
 * │ 表达式、计算、求值    │ 栈（操作数+操作符）    │ 逆波兰表达式          │
 * │                      │                        │                      │
 * │ 下一个更大/更小      │ 单调栈                 │ 每日温度              │
 * │ 柱状图、矩形面积     │ 单调栈                 │ 柱状图最大矩形        │
 * │ 接雨水、凹槽         │ 单调栈/双指针          │ 接雨水                │
 * │                      │                        │                      │
 * │ 滑动窗口最大/最小    │ 单调队列               │ 滑动窗口最大值        │
 * │                      │                        │                      │
 * │ 实现、设计数据结构   │ 多个栈/队列组合        │ 用栈实现队列          │
 * │ 路径、目录、../      │ 栈                     │ 简化路径              │
 * └──────────────────────┴────────────────────────┴──────────────────────┘
 */

// ============================================================
// 3. 单调栈模板选择
// ============================================================

/**
 * 📋 单调栈类型选择：
 *
 * ┌──────────────────────┬────────────────────────┬──────────────────────┐
 * │      目标            │       栈类型           │       说明           │
 * ├──────────────────────┼────────────────────────┼──────────────────────┤
 * │ 下一个更大元素       │ 单调递减栈             │ 栈顶到栈底递增        │
 * │ 下一个更小元素       │ 单调递增栈             │ 栈顶到栈底递减        │
 * │ 上一个更大元素       │ 单调递减栈（反向）     │ 或者正向入栈时记录    │
 * │ 上一个更小元素       │ 单调递增栈（反向）     │ 或者正向入栈时记录    │
 * └──────────────────────┴────────────────────────┴──────────────────────┘
 *
 * 记忆技巧：
 * - 找「更大」用「递减」栈（大的能弹出小的）
 * - 找「更小」用「递增」栈（小的能弹出大的）
 */

/**
 * 📋 解题流程图：
 *
 * ```mermaid
 * flowchart TD
 *     A[栈/队列问题] --> B{是否涉及括号/嵌套?}
 *     B -->|Yes| C[普通栈]
 *     B -->|No| D{是否找下一个更大/更小?}
 *     D -->|Yes| E[单调栈]
 *     D -->|No| F{是否滑动窗口求最值?}
 *     F -->|Yes| G[单调队列]
 *     F -->|No| H{是否设计数据结构?}
 *     H -->|Yes| I[组合多个栈/队列]
 *     H -->|No| J[检查是否可用栈模拟]
 *
 *     E --> E1{找更大还是更小?}
 *     E1 -->|更大| E2[单调递减栈]
 *     E1 -->|更小| E3[单调递增栈]
 * ```
 */

// ============================================================
// 4. 题目关联图
// ============================================================

/**
 * 📊 题目之间的关联：
 *
 * ```mermaid
 * graph LR
 *     subgraph 单调栈系列
 *         A1[下一个更大元素 I] --> A2[下一个更大元素 II循环]
 *         A1 --> A3[每日温度]
 *         A3 --> A4[柱状图最大矩形]
 *         A4 --> A5[最大矩形]
 *         A4 --> A6[接雨水]
 *     end
 *
 *     subgraph 括号系列
 *         B1[有效的括号] --> B2[括号生成]
 *         B1 --> B3[最长有效括号]
 *     end
 *
 *     subgraph 表达式系列
 *         C1[逆波兰表达式] --> C2[基本计算器]
 *         C1 --> C3[基本计算器 II]
 *     end
 *
 *     subgraph 设计系列
 *         D1[用栈实现队列] --> D2[用队列实现栈]
 *         D1 --> D3[最小栈]
 *     end
 * ```
 */

// ============================================================
// 5. 本章习题清单
// ============================================================

export const problemList = {
  easy: [
    {
      id: '001',
      title: '有效的括号',
      leetcode: 20,
      techniques: ['栈', '哈希表'],
      keyPoint: '括号匹配的经典应用',
    },
    {
      id: '002',
      title: '用栈实现队列',
      leetcode: 232,
      techniques: ['栈', '设计'],
      keyPoint: '两次后进先出 = 先进先出',
    },
    {
      id: '003',
      title: '用队列实现栈',
      leetcode: 225,
      techniques: ['队列', '设计'],
      keyPoint: '入栈时调整顺序',
    },
    {
      id: '004',
      title: '最小栈',
      leetcode: 155,
      techniques: ['栈', '设计'],
      keyPoint: '辅助栈同步记录最小值',
    },
  ],

  medium: [
    {
      id: '001',
      title: '每日温度',
      leetcode: 739,
      techniques: ['单调栈'],
      keyPoint: '单调栈找下一个更大元素',
    },
    {
      id: '002',
      title: '逆波兰表达式求值',
      leetcode: 150,
      techniques: ['栈'],
      keyPoint: '后缀表达式用栈计算',
    },
    {
      id: '003',
      title: '字符串解码',
      leetcode: 394,
      techniques: ['栈', '递归'],
      keyPoint: '双栈保存状态',
    },
    {
      id: '004',
      title: '下一个更大元素 II',
      leetcode: 503,
      techniques: ['单调栈'],
      keyPoint: '循环数组遍历两遍',
    },
    {
      id: '005',
      title: '简化路径',
      leetcode: 71,
      techniques: ['栈', '字符串'],
      keyPoint: '栈处理目录层级',
    },
    {
      id: '006',
      title: '移掉 K 位数字',
      leetcode: 402,
      techniques: ['单调栈', '贪心'],
      keyPoint: '贪心删除左边的大数字',
    },
  ],

  hard: [
    {
      id: '001',
      title: '柱状图中最大的矩形',
      leetcode: 84,
      techniques: ['单调栈'],
      keyPoint: '单调栈找左右边界',
    },
    {
      id: '002',
      title: '滑动窗口最大值',
      leetcode: 239,
      techniques: ['单调队列'],
      keyPoint: '单调递减队列维护最大值',
    },
    {
      id: '003',
      title: '接雨水',
      leetcode: 42,
      techniques: ['单调栈', '双指针', '动态规划'],
      keyPoint: '多种解法的经典题',
    },
  ],
};

// ============================================================
// 6. 学习检查清单
// ============================================================

/**
 * ✅ 栈与队列学习检查清单：
 *
 * 基础操作：
 * □ 理解栈的 LIFO 特性
 * □ 理解队列的 FIFO 特性
 * □ 能用 JavaScript 数组实现栈和队列
 * □ 理解 JavaScript 中 shift() 的性能问题
 *
 * 括号匹配：
 * □ 能用栈实现括号匹配
 * □ 理解为什么用栈（后进先出匹配最近的括号）
 *
 * 表达式计算：
 * □ 理解逆波兰表达式（后缀表达式）
 * □ 能用栈计算后缀表达式
 *
 * 单调栈：
 * □ 理解单调栈的概念和作用
 * □ 能判断使用单调递增还是递减栈
 * □ 能解决「下一个更大元素」类问题
 * □ 能解决「柱状图最大矩形」问题
 * □ 能解决「接雨水」问题
 *
 * 单调队列：
 * □ 理解单调队列的概念
 * □ 能解决「滑动窗口最大值」问题
 *
 * 设计类：
 * □ 能用两个栈实现队列
 * □ 能用一个/两个队列实现栈
 * □ 能实现支持 O(1) 获取最小值的栈
 */

// ============================================================
// 7. 常见错误总结
// ============================================================

/**
 * ⚠️ 栈与队列常见错误：
 *
 * 1. 栈空判断
 *    错误: stack.pop() // 栈可能为空
 *    正确: if (stack.length > 0) stack.pop()
 *
 * 2. 单调栈方向搞反
 *    错误: 找下一个更大用递增栈
 *    正确: 找下一个更大用递减栈（大的弹出小的）
 *
 * 3. 存值还是存索引
 *    错误: 需要计算距离时存值
 *    正确: 需要距离时存索引，用索引相减
 *
 * 4. 队列 shift 性能
 *    错误: 大量使用数组的 shift()
 *    正确: 用对象或双指针模拟队列
 *
 * 5. 循环数组遍历
 *    错误: 只遍历一遍
 *    正确: 遍历两遍，用 i % n 取索引
 *
 * 6. 单调队列过期判断
 *    错误: deque[0] < i - k
 *    正确: deque[0] <= i - k
 */

// ============================================================
// 8. 复杂度速查表
// ============================================================

/**
 * ┌─────────────────────────┬────────────┬────────────┐
 * │        操作             │ 时间复杂度  │ 空间复杂度  │
 * ├─────────────────────────┼────────────┼────────────┤
 * │ 栈 push/pop             │   O(1)     │   O(n)     │
 * │ 队列 enqueue            │   O(1)     │   O(n)     │
 * │ 队列 dequeue (数组shift) │   O(n)     │   O(1)     │
 * │ 队列 dequeue (对象实现)  │   O(1)     │   O(n)     │
 * │ 括号匹配                │   O(n)     │   O(n)     │
 * │ 单调栈                  │   O(n)     │   O(n)     │
 * │ 单调队列                │   O(n)     │   O(k)     │
 * │ 柱状图最大矩形          │   O(n)     │   O(n)     │
 * │ 接雨水（双指针）        │   O(n)     │   O(1)     │
 * │ 滑动窗口最大值          │   O(n)     │   O(k)     │
 * └─────────────────────────┴────────────┴────────────┘
 */

export default problemList;

