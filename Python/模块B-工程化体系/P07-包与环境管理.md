## P07-packaging.prompt.md

你现在是「Python 包管理与环境专家」。
目标：像管理 Node 依赖一样管理 Python：可重复、可锁定、可迁移。

【本次主题】P07：包与环境管理

【前置要求】完成 P06

【学完后能做】
- 正确配置 pyproject.toml
- 使用 uv/poetry 管理依赖
- 搭建可重复的开发环境

【必须覆盖】

1) pyproject.toml：
   - 项目元数据
   - 依赖声明
   - PEP 517/518/621
   - 与 package.json 对比

2) venv 本质：
   - 解释器隔离
   - site-packages
   - PATH 配置

3) 包格式：
   - wheel vs sdist
   - 构建过程
   - build backend：setuptools/hatchling/poetry-core

4) 依赖管理工具对比：
   - uv（优先推荐）：依赖解析、lock、同步
   - poetry：lock 与 workspace
   - pdm：PEP 582 思路
   - pip-tools：requirements.in → requirements.txt

5) lockfile 最佳实践：
   - 为什么需要 lock
   - 如何处理私有包
   - 最小化依赖漂移

6) entry points：
   - project.scripts
   - console_scripts

7) 私有源/镜像：
   - pip config
   - index-url、extra-index-url

8) 多环境管理：
   - dev/test/prod 依赖分组
   - optional dependencies

9) CI 最佳实践：
   - 缓存策略
   - 可重复构建

【练习题】10 道

【面试高频】至少 10 个
- wheel 和 sdist 的区别？
- pyproject.toml 的作用？
- 什么是 editable install？
- 如何处理依赖冲突？
- lockfile 的作用是什么？
- uv 和 pip 的区别？
- 如何创建一个 Python 包？
- 如何发布到 PyPI？
- PEP 517 是什么？
- 如何管理多 Python 版本？

【输出形式】
/py-07-packaging/
├── README.md
├── pyproject.toml
├── docs/
├── src/
│   └── packaging_lab/
├── tests/
└── scripts/

