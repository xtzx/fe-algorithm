# 02. å…ƒç»„ tuple

## ğŸ¯ æœ¬èŠ‚ç›®æ ‡

- ç†è§£å…ƒç»„çš„ä¸å¯å˜æ€§
- æŒæ¡å…ƒç»„è§£åŒ…
- å­¦ä¼šä½¿ç”¨å‘½åå…ƒç»„

---

## ğŸ“ åˆ›å»ºå…ƒç»„

```python
# åŸºæœ¬åˆ›å»º
t = (1, 2, 3)
t = 1, 2, 3           # æ‹¬å·å¯çœç•¥

# å•å…ƒç´ å…ƒç»„ï¼ˆå¿…é¡»æœ‰é€—å·ï¼ï¼‰
t = (1,)              # æ­£ç¡®
t = (1)               # âŒ è¿™æ˜¯æ•´æ•° 1ï¼Œä¸æ˜¯å…ƒç»„ï¼

# ç©ºå…ƒç»„
t = ()
t = tuple()

# ä»å…¶ä»–åºåˆ—åˆ›å»º
t = tuple([1, 2, 3])
t = tuple("hello")    # ('h', 'e', 'l', 'l', 'o')
```

### å•å…ƒç´ é™·é˜±

```python
# âš ï¸ å¸¸è§é”™è¯¯
x = (1)
print(type(x))  # <class 'int'>

x = (1,)
print(type(x))  # <class 'tuple'>

x = 1,
print(type(x))  # <class 'tuple'>
```

---

## ğŸ”’ ä¸å¯å˜æ€§

```python
t = (1, 2, 3)

# âŒ ä¸èƒ½ä¿®æ”¹
t[0] = 100    # TypeError: 'tuple' object does not support item assignment

# âŒ ä¸èƒ½æ·»åŠ /åˆ é™¤
t.append(4)   # AttributeError: 'tuple' object has no attribute 'append'
```

### ä½†åµŒå¥—çš„å¯å˜å¯¹è±¡å¯ä»¥ä¿®æ”¹

```python
t = (1, 2, [3, 4])
t[2][0] = 100         # âœ… å¯ä»¥ï¼
print(t)              # (1, 2, [100, 4])
```

### ä¸ºä»€ä¹ˆç”¨å…ƒç»„ï¼Ÿ

1. **ä¸å¯å˜ = å®‰å…¨**ï¼šä½œä¸ºå‡½æ•°å‚æ•°ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹
2. **å¯å“ˆå¸Œ**ï¼šå¯ä»¥ä½œä¸ºå­—å…¸çš„é”®
3. **æ€§èƒ½æ›´å¥½**ï¼šæ¯”åˆ—è¡¨ç•¥å¿«ï¼Œå ç”¨å†…å­˜æ›´å°‘
4. **è¯­ä¹‰æ˜ç¡®**ï¼šè¡¨ç¤º"å›ºå®šçš„æ•°æ®ç»„åˆ"

```python
# ä½œä¸ºå­—å…¸é”®
locations = {
    (0, 0): "origin",
    (1, 0): "right",
    (0, 1): "up",
}

# âŒ åˆ—è¡¨ä¸èƒ½ä½œä¸ºå­—å…¸é”®
# locations = {[0, 0]: "origin"}  # TypeError
```

---

## ğŸ“¦ å…ƒç»„è§£åŒ…

### åŸºæœ¬è§£åŒ…

```python
# äº¤æ¢å˜é‡
a, b = 1, 2
a, b = b, a           # äº¤æ¢ï¼

# å‡½æ•°è¿”å›å¤šå€¼
def get_point():
    return 10, 20

x, y = get_point()

# éå†æ—¶è§£åŒ…
pairs = [(1, 'a'), (2, 'b'), (3, 'c')]
for num, letter in pairs:
    print(f"{num}: {letter}")
```

### æ˜Ÿå·è§£åŒ…

```python
# *rest æ”¶é›†å‰©ä½™å…ƒç´ 
first, *rest = (1, 2, 3, 4, 5)
# first = 1, rest = [2, 3, 4, 5]

*head, last = (1, 2, 3, 4, 5)
# head = [1, 2, 3, 4], last = 5

first, *middle, last = (1, 2, 3, 4, 5)
# first = 1, middle = [2, 3, 4], last = 5
```

### å¿½ç•¥æŸäº›å€¼

```python
# ç”¨ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼
x, _, z = (1, 2, 3)   # åªéœ€è¦ x å’Œ z

# å¿½ç•¥å¤šä¸ª
first, *_, last = (1, 2, 3, 4, 5)
```

---

## ğŸ·ï¸ å‘½åå…ƒç»„

### namedtuple

```python
from collections import namedtuple

# å®šä¹‰
Point = namedtuple('Point', ['x', 'y'])
# æˆ–
Point = namedtuple('Point', 'x y')

# åˆ›å»ºå®ä¾‹
p = Point(10, 20)
p = Point(x=10, y=20)

# è®¿é—®
print(p.x, p.y)       # 10 20
print(p[0], p[1])     # 10 20ï¼ˆä¹Ÿæ”¯æŒç´¢å¼•ï¼‰

# è§£åŒ…
x, y = p
```

### typing.NamedTupleï¼ˆæ¨èï¼‰

```python
from typing import NamedTuple

class Point(NamedTuple):
    x: float
    y: float
    label: str = ""   # å¯ä»¥æœ‰é»˜è®¤å€¼

p = Point(10, 20)
p = Point(10, 20, "origin")

print(p.x, p.y)
```

### ä¸ dict å¯¹æ¯”

```python
# å­—å…¸æ–¹å¼
point_dict = {"x": 10, "y": 20}
print(point_dict["x"])

# å‘½åå…ƒç»„æ–¹å¼
Point = namedtuple('Point', ['x', 'y'])
point_tuple = Point(10, 20)
print(point_tuple.x)

# å‘½åå…ƒç»„ä¼˜åŠ¿ï¼š
# - ä¸å¯å˜
# - å†…å­˜æ›´å°
# - å¯ä»¥è§£åŒ…
# - å¯ä½œä¸ºå­—å…¸é”®
```

---

## ğŸ”„ å…ƒç»„æ“ä½œ

```python
t = (1, 2, 3, 2, 4)

# æŸ¥æ‰¾
t.index(2)            # 1ï¼ˆç¬¬ä¸€ä¸ª 2 çš„ç´¢å¼•ï¼‰
t.count(2)            # 2ï¼ˆ2 å‡ºç°çš„æ¬¡æ•°ï¼‰

# é•¿åº¦
len(t)                # 5

# æˆå‘˜æ£€æŸ¥
2 in t                # True

# æ‹¼æ¥ï¼ˆåˆ›å»ºæ–°å…ƒç»„ï¼‰
t + (5, 6)            # (1, 2, 3, 2, 4, 5, 6)

# é‡å¤
t * 2                 # (1, 2, 3, 2, 4, 1, 2, 3, 2, 4)

# åˆ‡ç‰‡
t[1:3]                # (2, 3)
```

---

## ğŸ†š tuple vs list

| ç‰¹æ€§ | tuple | list |
|------|-------|------|
| å¯å˜æ€§ | ä¸å¯å˜ | å¯å˜ |
| è¯­æ³• | `(1, 2, 3)` | `[1, 2, 3]` |
| å¯ä½œä¸º dict é”® | âœ… | âŒ |
| å†…å­˜å ç”¨ | æ›´å° | æ›´å¤§ |
| æ€§èƒ½ | ç•¥å¿« | ç•¥æ…¢ |
| æ–¹æ³•æ•°é‡ | 2 ä¸ª | å¾ˆå¤š |

### ä»€ä¹ˆæ—¶å€™ç”¨ tupleï¼Ÿ

1. æ•°æ®ä¸åº”è¢«ä¿®æ”¹æ—¶ï¼ˆå¦‚é…ç½®ã€åæ ‡ï¼‰
2. éœ€è¦ä½œä¸ºå­—å…¸é”®æ—¶
3. å‡½æ•°è¿”å›å¤šä¸ªå€¼æ—¶
4. éœ€è¦è§£åŒ…æ—¶

```python
# å¥½çš„ç”¨ä¾‹
DIMENSIONS = (1920, 1080)         # å¸¸é‡é…ç½®
RGB_RED = (255, 0, 0)             # é¢œè‰²å€¼
point = (x, y)                    # åæ ‡

# ä¸é€‚åˆç”¨ tuple çš„åœºæ™¯
items = [1, 2, 3]                 # éœ€è¦å¢åˆ æ”¹çš„æ•°æ®
```

---

## âœ… æœ¬èŠ‚è¦ç‚¹

1. å•å…ƒç´ å…ƒç»„å¿…é¡»æœ‰é€—å·ï¼š`(1,)`
2. å…ƒç»„ä¸å¯å˜ï¼Œä½†åµŒå¥—çš„å¯å˜å¯¹è±¡å¯ä»¥ä¿®æ”¹
3. è§£åŒ…ï¼š`a, b = b, a` äº¤æ¢å˜é‡
4. `*rest` æ”¶é›†å‰©ä½™å…ƒç´ 
5. å‘½åå…ƒç»„ç»“åˆäº† tuple å’Œ dict çš„ä¼˜ç‚¹
6. éœ€è¦ä¸å¯å˜æˆ–åšå­—å…¸é”®æ—¶ç”¨ tuple

