# 🎯 综合项目 2

---

## P15-project-automation.prompt.md

你现在是「Python 项目教练」。
目标：综合运用数据处理和自动化知识，完成一个实用工具。

【本次主题】P15：综合项目 - 自动化脚本

【前置要求】完成 P12-P14

【项目目标】
开发一个「日志分析与清理工具」，功能包括：
- 解析多种格式的日志文件
- 提取关键信息（错误、警告、时间分布）
- 生成分析报告
- 批量清理/归档旧日志
- 支持配置和定时任务

【必须实现】

1) 日志解析：
   - 支持多种日志格式（nginx、app、json）
   - 使用 pydantic 定义日志模型
   - 处理异常/损坏的日志行

2) 分析功能：
   - 错误统计（按类型、时间）
   - 请求统计（URL、状态码、响应时间）
   - 时间分布图表（文本图表）

3) 清理功能：
   - 按时间归档
   - 压缩旧日志
   - dry-run 预览
   - 断点续跑

4) 报告输出：
   - 终端彩色输出
   - JSON 报告
   - Markdown 报告

【输出形式】
/py-15-project-automation/
├── README.md
├── pyproject.toml
├── src/
│   └── log_analyzer/
│       ├── parsers/
│       ├── analyzers/
│       ├── cleaners/
│       ├── reporters/
│       └── cli.py
├── tests/
├── sample_logs/
└── scripts/

