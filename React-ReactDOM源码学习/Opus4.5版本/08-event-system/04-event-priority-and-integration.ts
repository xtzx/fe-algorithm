/**
 * ============================================================
 * ğŸ“š Phase 8: äº‹ä»¶ç³»ç»Ÿ - Part 4: äº‹ä»¶ä¼˜å…ˆçº§ä¸çœŸå®æ¡ˆä¾‹
 * ============================================================
 *
 * ğŸ“ æ ¸å¿ƒæºç ä½ç½®:
 * - packages/react-dom/src/events/ReactDOMEventListener.js
 * - packages/react-dom/src/events/plugins/ChangeEventPlugin.js
 * - packages/react-reconciler/src/ReactEventPriorities.js
 *
 * â±ï¸ é¢„è®¡æ—¶é—´ï¼š4-5 å°æ—¶
 * ğŸ¯ é¢è¯•æƒé‡ï¼šâ­â­â­â­â­
 */

// ============================================================
// Part 1: äº‹ä»¶ä¼˜å…ˆçº§è¯¦è§£
// ============================================================

/**
 * ğŸ“Š äº‹ä»¶ä¼˜å…ˆçº§ä½“ç³»
 */

const eventPrioritySystem = `
ğŸ“Š äº‹ä»¶ä¼˜å…ˆçº§ä½“ç³»

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       äº‹ä»¶ä¼˜å…ˆçº§å±‚çº§                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸ“ ReactEventPriorities.js                                               â”‚
â”‚                                                                             â”‚
â”‚   // ä¼˜å…ˆçº§å®šä¹‰ï¼ˆå¯¹åº” Lane æ¨¡å‹ï¼‰                                           â”‚
â”‚   export const DiscreteEventPriority = SyncLane;           // åŒæ­¥ä¼˜å…ˆçº§    â”‚
â”‚   export const ContinuousEventPriority = InputContinuousLane; // è¿ç»­ä¼˜å…ˆçº§ â”‚
â”‚   export const DefaultEventPriority = DefaultLane;          // é»˜è®¤ä¼˜å…ˆçº§   â”‚
â”‚   export const IdleEventPriority = IdleLane;               // ç©ºé—²ä¼˜å…ˆçº§    â”‚
â”‚                                                                             â”‚
â”‚   ä¼˜å…ˆçº§å¯¹æ¯”:                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  ä¼˜å…ˆçº§              â”‚  å€¼      â”‚  å¯¹åº” Lane           â”‚  åœºæ™¯         â”‚â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚   â”‚  DiscreteEvent       â”‚  1       â”‚  SyncLane            â”‚  click,input  â”‚â”‚
â”‚   â”‚  ContinuousEvent     â”‚  4       â”‚  InputContinuousLane â”‚  scroll,drag  â”‚â”‚
â”‚   â”‚  DefaultEvent        â”‚  16      â”‚  DefaultLane         â”‚  load,error   â”‚â”‚
â”‚   â”‚  IdleEvent           â”‚  536870912â”‚  IdleLane           â”‚  background   â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       äº‹ä»¶åˆ†ç±»                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸ“ ReactDOMEventListener.js: getEventPriority                            â”‚
â”‚                                                                             â”‚
â”‚   ç¦»æ•£äº‹ä»¶ (DiscreteEventPriority):                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚   ç”¨æˆ·æ˜ç¡®çš„å•æ¬¡äº¤äº’ï¼Œéœ€è¦ç«‹å³å“åº”                                          â”‚
â”‚                                                                             â”‚
â”‚   â€¢ click, dblclick, auxclick                                               â”‚
â”‚   â€¢ keydown, keyup, keypress                                                â”‚
â”‚   â€¢ mousedown, mouseup                                                      â”‚
â”‚   â€¢ input, change (è¡¨å•ç›¸å…³)                                                â”‚
â”‚   â€¢ focus, blur                                                             â”‚
â”‚   â€¢ submit, reset                                                           â”‚
â”‚   â€¢ copy, cut, paste                                                        â”‚
â”‚   â€¢ touchstart, touchend                                                    â”‚
â”‚   â€¢ pointerdown, pointerup                                                  â”‚
â”‚                                                                             â”‚
â”‚   è¿ç»­äº‹ä»¶ (ContinuousEventPriority):                                       â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚   ç”¨æˆ·æŒç»­çš„äº¤äº’ï¼Œå¯ä»¥æ‰¹é‡å¤„ç†                                              â”‚
â”‚                                                                             â”‚
â”‚   â€¢ mousemove, mouseenter, mouseleave, mouseover, mouseout                  â”‚
â”‚   â€¢ scroll, wheel                                                           â”‚
â”‚   â€¢ pointermove, pointerover, pointerout, pointerenter, pointerleave        â”‚
â”‚   â€¢ drag, dragenter, dragleave, dragover                                    â”‚
â”‚   â€¢ gotpointercapture, lostpointercapture                                   â”‚
â”‚                                                                             â”‚
â”‚   é»˜è®¤äº‹ä»¶ (DefaultEventPriority):                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚   å…¶ä»–æ‰€æœ‰äº‹ä»¶                                                              â”‚
â”‚                                                                             â”‚
â”‚   â€¢ load, error                                                             â”‚
â”‚   â€¢ animationstart, animationend, animationiteration                        â”‚
â”‚   â€¢ transitionstart, transitionend, transitioncancel                        â”‚
â”‚   â€¢ progress, loadstart, loadend                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`;

// ============================================================
// Part 2: äº‹ä»¶ä¼˜å…ˆçº§å¦‚ä½•å½±å“æ›´æ–°
// ============================================================

/**
 * ğŸ“Š ä»äº‹ä»¶åˆ°æ›´æ–°çš„ä¼˜å…ˆçº§ä¼ é€’
 */

const eventToUpdatePriority = `
ğŸ“Š ä»äº‹ä»¶åˆ°æ›´æ–°çš„ä¼˜å…ˆçº§ä¼ é€’

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ä¼˜å…ˆçº§ä¼ é€’é“¾è·¯                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ç”¨æˆ·ç‚¹å‡»                                                                  â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  Step 1: ç¡®å®šäº‹ä»¶ä¼˜å…ˆçº§                                               â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  ğŸ“ ReactDOMEventListener.js: createEventListenerWrapperWithPriority â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  const eventPriority = getEventPriority('click');                     â”‚â”‚
â”‚   â”‚  // â†’ DiscreteEventPriority                                           â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  // æ ¹æ®ä¼˜å…ˆçº§é€‰æ‹©ä¸åŒçš„ dispatcher                                   â”‚â”‚
â”‚   â”‚  switch (eventPriority) {                                             â”‚â”‚
â”‚   â”‚    case DiscreteEventPriority:                                        â”‚â”‚
â”‚   â”‚      listenerWrapper = dispatchDiscreteEvent;  // â­                  â”‚â”‚
â”‚   â”‚      break;                                                           â”‚â”‚
â”‚   â”‚    case ContinuousEventPriority:                                      â”‚â”‚
â”‚   â”‚      listenerWrapper = dispatchContinuousEvent;                       â”‚â”‚
â”‚   â”‚      break;                                                           â”‚â”‚
â”‚   â”‚    default:                                                           â”‚â”‚
â”‚   â”‚      listenerWrapper = dispatchEvent;                                 â”‚â”‚
â”‚   â”‚  }                                                                    â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  Step 2: è®¾ç½®å½“å‰æ›´æ–°ä¼˜å…ˆçº§                                           â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  ğŸ“ ReactDOMEventListener.js: dispatchDiscreteEvent                  â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  function dispatchDiscreteEvent(...) {                                â”‚â”‚
â”‚   â”‚    const previousPriority = getCurrentUpdatePriority();               â”‚â”‚
â”‚   â”‚    try {                                                              â”‚â”‚
â”‚   â”‚      // â­ è®¾ç½®å½“å‰æ›´æ–°ä¼˜å…ˆçº§ä¸ºç¦»æ•£ä¼˜å…ˆçº§                             â”‚â”‚
â”‚   â”‚      setCurrentUpdatePriority(DiscreteEventPriority);                 â”‚â”‚
â”‚   â”‚      dispatchEvent(...);                                              â”‚â”‚
â”‚   â”‚    } finally {                                                        â”‚â”‚
â”‚   â”‚      setCurrentUpdatePriority(previousPriority);                      â”‚â”‚
â”‚   â”‚    }                                                                  â”‚â”‚
â”‚   â”‚  }                                                                    â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  Step 3: äº‹ä»¶å›è°ƒä¸­çš„ setState                                        â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  function handleClick() {                                             â”‚â”‚
â”‚   â”‚    setState(newValue);  // è§¦å‘æ›´æ–°                                   â”‚â”‚
â”‚   â”‚  }                                                                    â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚  Step 4: æ ¹æ®å½“å‰ä¼˜å…ˆçº§ç¡®å®š Lane                                      â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  ğŸ“ ReactFiberWorkLoop.js: requestUpdateLane                         â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  function requestUpdateLane(fiber) {                                  â”‚â”‚
â”‚   â”‚    // è·å–å½“å‰æ›´æ–°ä¼˜å…ˆçº§                                              â”‚â”‚
â”‚   â”‚    const updateLane = getCurrentUpdatePriority();                     â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚    if (updateLane !== NoLane) {                                       â”‚â”‚
â”‚   â”‚      // â­ æœ‰ä¼˜å…ˆçº§ï¼Œç›´æ¥ä½¿ç”¨                                         â”‚â”‚
â”‚   â”‚      return updateLane;                                               â”‚â”‚
â”‚   â”‚    }                                                                  â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚    // ... å…¶ä»–é€»è¾‘                                                    â”‚â”‚
â”‚   â”‚  }                                                                    â”‚â”‚
â”‚   â”‚                                                                       â”‚â”‚
â”‚   â”‚  ç»“æœ:                                                                â”‚â”‚
â”‚   â”‚  - click è§¦å‘çš„ setState â†’ SyncLane â†’ åŒæ­¥æ›´æ–°                        â”‚â”‚
â”‚   â”‚  - scroll è§¦å‘çš„ setState â†’ InputContinuousLane â†’ å¯èƒ½è¢«å»¶è¿Ÿ          â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`;

// ============================================================
// Part 3: æ¡ˆä¾‹ A - onClick äº‹ä»¶å®Œæ•´æµç¨‹
// ============================================================

/**
 * ğŸ“Š æ¡ˆä¾‹ A: æŒ‰é’®ç‚¹å‡» onClick
 */

const caseAOnClick = `
ğŸ“Š æ¡ˆä¾‹ A: æŒ‰é’®ç‚¹å‡» onClick å®Œæ•´æµç¨‹

ç»„ä»¶ä»£ç :
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function App() {
  const [count, setCount] = useState(0);

  return (
    <div
      onClickCapture={() => console.log('1. div capture')}
      onClick={() => console.log('4. div bubble')}
    >
      <button
        onClickCapture={() => console.log('2. button capture')}
        onClick={() => {
          console.log('3. button bubble');
          setCount(c => c + 1);  // è§¦å‘æ›´æ–°
        }}
      >
        Count: {count}
      </button>
    </div>
  );
}

æ¸²æŸ“åçš„ DOM ç»“æ„:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

#root (React æ ¹å®¹å™¨)
  â””â”€â”€ <div>
        â””â”€â”€ <button>Count: 0</button>


å®Œæ•´æ—¶é—´çº¿:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T0: ç”¨æˆ·ç‚¹å‡» <button>                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   æµè§ˆå™¨äº§ç”ŸåŸç”Ÿ MouseEvent:                                                â”‚
â”‚   {                                                                         â”‚
â”‚     type: 'click',                                                          â”‚
â”‚     target: <button>,                                                       â”‚
â”‚     currentTarget: ...,                                                     â”‚
â”‚     bubbles: true,                                                          â”‚
â”‚     // ...                                                                  â”‚
â”‚   }                                                                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T1: åŸç”Ÿæ•è·é˜¶æ®µ                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   window â†’ document â†’ html â†’ body â†’ #root                                  â”‚
â”‚                                          â”‚                                  â”‚
â”‚                                          â–¼                                  â”‚
â”‚                              â­ #root ä¸Šçš„æ•è·ç›‘å¬å™¨è§¦å‘                    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“ ReactDOMEventListener.js                                              â”‚
â”‚                                                                             â”‚
â”‚   è°ƒç”¨é“¾:                                                                   â”‚
â”‚   dispatchDiscreteEvent('click', IS_CAPTURE_PHASE, #root, nativeEvent)     â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â”œâ”€â†’ setCurrentUpdatePriority(DiscreteEventPriority)                    â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â””â”€â†’ dispatchEvent(...)                                                 â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â””â”€â†’ dispatchEventForPluginEventSystem(...)                       â”‚
â”‚                 â”‚                                                           â”‚
â”‚                 â”œâ”€â†’ æ‰¾åˆ° target Fiber (button)                              â”‚
â”‚                 â”‚                                                           â”‚
â”‚                 â””â”€â†’ dispatchEventsForPlugins(...)                          â”‚
â”‚                       â”‚                                                     â”‚
â”‚                       â”œâ”€â†’ extractEvents(...)                               â”‚
â”‚                       â”‚     â””â”€â†’ SimpleEventPlugin.extractEvents()          â”‚
â”‚                       â”‚           â””â”€â†’ accumulateSinglePhaseListeners()     â”‚
â”‚                       â”‚                 (æ•è·é˜¶æ®µï¼Œæ”¶é›† onClickCapture)     â”‚
â”‚                       â”‚                                                     â”‚
â”‚                       â””â”€â†’ processDispatchQueue(...)                        â”‚
â”‚                                                                             â”‚
â”‚   æ”¶é›†åˆ°çš„ç›‘å¬å™¨ (æ•è·é˜¶æ®µ):                                                â”‚
â”‚   listeners = [                                                             â”‚
â”‚     { instance: buttonFiber, listener: buttonOnClickCapture },              â”‚
â”‚     { instance: divFiber, listener: divOnClickCapture },                    â”‚
â”‚   ]                                                                         â”‚
â”‚                                                                             â”‚
â”‚   æ‰§è¡Œé¡ºåº (å€’åº - ä»å¤–åˆ°å†…):                                               â”‚
â”‚   1. divOnClickCapture()    â†’ è¾“å‡º "1. div capture"                         â”‚
â”‚   2. buttonOnClickCapture() â†’ è¾“å‡º "2. button capture"                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T2: åŸç”Ÿç›®æ ‡é˜¶æ®µ & åŸç”Ÿå†’æ³¡å¼€å§‹                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   åŸç”Ÿäº‹ä»¶ç»§ç»­ï¼šbutton (target) â†’ div â†’ #root                              â”‚
â”‚                                          â”‚                                  â”‚
â”‚                                          â–¼                                  â”‚
â”‚                              â­ #root ä¸Šçš„å†’æ³¡ç›‘å¬å™¨è§¦å‘                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T3: React å†’æ³¡é˜¶æ®µå¤„ç†                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   åŒæ ·çš„è°ƒç”¨é“¾ï¼Œä½†æ˜¯ eventSystemFlags ä¸åŒ…å« IS_CAPTURE_PHASE               â”‚
â”‚                                                                             â”‚
â”‚   æ”¶é›†åˆ°çš„ç›‘å¬å™¨ (å†’æ³¡é˜¶æ®µ):                                                â”‚
â”‚   listeners = [                                                             â”‚
â”‚     { instance: buttonFiber, listener: buttonOnClick },                     â”‚
â”‚     { instance: divFiber, listener: divOnClick },                           â”‚
â”‚   ]                                                                         â”‚
â”‚                                                                             â”‚
â”‚   æ‰§è¡Œé¡ºåº (æ­£åº - ä»å†…åˆ°å¤–):                                               â”‚
â”‚   3. buttonOnClick() â†’ è¾“å‡º "3. button bubble" + setCount()                â”‚
â”‚   4. divOnClick()    â†’ è¾“å‡º "4. div bubble"                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T4: setCount è§¦å‘æ›´æ–°                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   setCount(c => c + 1) æ‰§è¡Œ:                                               â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“ ReactFiberHooks.js: dispatchSetState                                  â”‚
â”‚                                                                             â”‚
â”‚   1. åˆ›å»º Update å¯¹è±¡:                                                      â”‚
â”‚      {                                                                      â”‚
â”‚        lane: SyncLane,  // â­ æ¥è‡ªå½“å‰äº‹ä»¶ä¼˜å…ˆçº§                            â”‚
â”‚        action: c => c + 1,                                                  â”‚
â”‚        // ...                                                               â”‚
â”‚      }                                                                      â”‚
â”‚                                                                             â”‚
â”‚   2. å°† update åŠ å…¥é˜Ÿåˆ—                                                     â”‚
â”‚                                                                             â”‚
â”‚   3. scheduleUpdateOnFiber(fiber, SyncLane)                                â”‚
â”‚                                                                             â”‚
â”‚   å› ä¸ºæ˜¯ SyncLaneï¼ŒReact 18 ä¸­ä¼šåœ¨äº‹ä»¶å›è°ƒç»“æŸå                            â”‚
â”‚   åŒæ­¥æ‰§è¡Œ Render å’Œ Commit é˜¶æ®µ                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T5: æ›´æ–°å®Œæˆï¼ŒUI æ›´æ–°                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   <button>Count: 1</button>                                                 â”‚
â”‚                                                                             â”‚
â”‚   æ§åˆ¶å°è¾“å‡º:                                                               â”‚
â”‚   1. div capture                                                            â”‚
â”‚   2. button capture                                                         â”‚
â”‚   3. button bubble                                                          â”‚
â”‚   4. div bubble                                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…³é”®å‡½æ•°è°ƒç”¨é“¾æ€»ç»“:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

åŸç”Ÿäº‹ä»¶è§¦å‘
  â””â”€â†’ dispatchDiscreteEvent()         ğŸ“ ReactDOMEventListener.js
        â””â”€â†’ setCurrentUpdatePriority(DiscreteEventPriority)
        â””â”€â†’ dispatchEvent()
              â””â”€â†’ dispatchEventForPluginEventSystem()  ğŸ“ DOMPluginEventSystem.js
                    â””â”€â†’ getClosestInstanceFromNode()   (æ‰¾åˆ° Fiber)
                    â””â”€â†’ dispatchEventsForPlugins()
                          â””â”€â†’ extractEvents()
                          â”‚     â””â”€â†’ SimpleEventPlugin.extractEvents()
                          â”‚           â””â”€â†’ accumulateSinglePhaseListeners()
                          â”‚                 â””â”€â†’ getListener()  ğŸ“ getListener.js
                          â””â”€â†’ processDispatchQueue()
                                â””â”€â†’ processDispatchQueueItemsInOrder()
                                      â””â”€â†’ executeDispatch()
                                            â””â”€â†’ listener(event)  // ä½ çš„ onClick
`;

// ============================================================
// Part 4: æ¡ˆä¾‹ B - onChange äº‹ä»¶ï¼ˆè¡¨å•è¾“å…¥ï¼‰
// ============================================================

/**
 * ğŸ“Š æ¡ˆä¾‹ B: è¡¨å•è¾“å…¥ onChange
 */

const caseBOnChange = `
ğŸ“Š æ¡ˆä¾‹ B: è¡¨å•è¾“å…¥ onChange å®Œæ•´æµç¨‹

ç»„ä»¶ä»£ç :
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function SearchInput() {
  const [value, setValue] = useState('');

  return (
    <input
      type="text"
      value={value}
      onChange={(e) => {
        console.log('onChange triggered:', e.target.value);
        setValue(e.target.value);
      }}
    />
  );
}


onChange çš„ç‰¹æ®Šä¹‹å¤„:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       React onChange â‰  åŸç”Ÿ change                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸ“ plugins/ChangeEventPlugin.js                                          â”‚
â”‚                                                                             â”‚
â”‚   React çš„ onChange å®é™…ç›‘å¬å¤šä¸ªåŸç”Ÿäº‹ä»¶:                                   â”‚
â”‚                                                                             â”‚
â”‚   registerTwoPhaseEvent('onChange', [                                       â”‚
â”‚     'change',          // select å’Œ file input                              â”‚
â”‚     'click',           // checkbox, radio                                   â”‚
â”‚     'focusin',         // å¤„ç†ç„¦ç‚¹ç›¸å…³                                      â”‚
â”‚     'focusout',        //                                                   â”‚
â”‚     'input',           // â­ æ–‡æœ¬è¾“å…¥çš„ä¸»è¦äº‹ä»¶                             â”‚
â”‚     'keydown',         // å¤„ç†ç‰¹æ®Šé”®                                        â”‚
â”‚     'keyup',           //                                                   â”‚
â”‚     'selectionchange', // é€‰æ‹©å˜åŒ–                                          â”‚
â”‚   ]);                                                                       â”‚
â”‚                                                                             â”‚
â”‚   ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ                                                          â”‚
â”‚   1. åŸç”Ÿ change äº‹ä»¶åªåœ¨ blur æ—¶è§¦å‘ï¼ˆå¯¹äº text inputï¼‰                    â”‚
â”‚   2. React å¸Œæœ› onChange åœ¨"å€¼æ”¹å˜æ—¶"ç«‹å³è§¦å‘                               â”‚
â”‚   3. éœ€è¦ç›‘å¬ input äº‹ä»¶æ¥å®ç°è¿™ä¸ªè¯­ä¹‰                                      â”‚
â”‚   4. åŒæ—¶è¦å¤„ç†å„ç§è¾¹ç¼˜æƒ…å†µï¼ˆIME è¾“å…¥ã€ç²˜è´´ç­‰ï¼‰                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ç”¨æˆ·è¾“å…¥ "a" çš„å®Œæ•´æ—¶é—´çº¿:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T0: ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ "a"                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   æµè§ˆå™¨äº§ç”Ÿå¤šä¸ªåŸç”Ÿäº‹ä»¶ï¼ˆæŒ‰é¡ºåºï¼‰:                                         â”‚
â”‚   1. keydown                                                                â”‚
â”‚   2. keypress (deprecated)                                                  â”‚
â”‚   3. input    â† â­ React ä¸»è¦ç›‘å¬è¿™ä¸ª                                       â”‚
â”‚   4. keyup                                                                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T1: input äº‹ä»¶è§¦å‘ React å¤„ç†                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   dispatchDiscreteEvent('input', ...)                                       â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â””â”€â†’ dispatchEventsForPlugins(...)                                      â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â””â”€â†’ extractEvents(...)                                           â”‚
â”‚                 â”‚                                                           â”‚
â”‚                 â”œâ”€â†’ SimpleEventPlugin.extractEvents()  // å¤„ç† onInput     â”‚
â”‚                 â”‚                                                           â”‚
â”‚                 â””â”€â†’ ChangeEventPlugin.extractEvents()  // â­ å¤„ç† onChange â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T2: ChangeEventPlugin åˆ¤æ–­æ˜¯å¦è§¦å‘ onChange                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸ“ plugins/ChangeEventPlugin.js: extractEvents                           â”‚
â”‚                                                                             â”‚
â”‚   function extractEvents(dispatchQueue, domEventName, ...) {                â”‚
â”‚     let getTargetInstFunc, handleEventFunc;                                 â”‚
â”‚                                                                             â”‚
â”‚     if (shouldUseChangeEvent(targetNode)) {                                 â”‚
â”‚       // select, file input                                                 â”‚
â”‚       getTargetInstFunc = getTargetInstForChangeEvent;                      â”‚
â”‚     } else if (isTextInputElement(targetNode)) {                            â”‚
â”‚       // â­ text, textarea ç­‰                                               â”‚
â”‚       getTargetInstFunc = getTargetInstForInputOrChangeEvent;               â”‚
â”‚     } else if (shouldUseClickEvent(targetNode)) {                           â”‚
â”‚       // checkbox, radio                                                    â”‚
â”‚       getTargetInstFunc = getTargetInstForClickEvent;                       â”‚
â”‚     }                                                                       â”‚
â”‚                                                                             â”‚
â”‚     if (getTargetInstFunc) {                                                â”‚
â”‚       const inst = getTargetInstFunc(domEventName, targetInst);             â”‚
â”‚       if (inst) {                                                           â”‚
â”‚         // â­ æ£€æµ‹å€¼æ˜¯å¦çœŸçš„æ”¹å˜äº†                                          â”‚
â”‚         createAndAccumulateChangeEvent(dispatchQueue, inst, ...);           â”‚
â”‚       }                                                                     â”‚
â”‚     }                                                                       â”‚
â”‚   }                                                                         â”‚
â”‚                                                                             â”‚
â”‚   å…³é”®: updateValueIfChanged() æ£€æŸ¥å€¼æ˜¯å¦å˜åŒ–                               â”‚
â”‚   - æ¯”è¾ƒ input çš„å½“å‰å€¼å’Œä¸Šæ¬¡è®°å½•çš„å€¼                                       â”‚
â”‚   - åªæœ‰çœŸæ­£å˜åŒ–æ—¶æ‰è§¦å‘ onChange                                           â”‚
â”‚   - è¿™é¿å…äº†é‡å¤è§¦å‘                                                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T3: åˆ›å»º SyntheticEvent å¹¶æ´¾å‘                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   function createAndAccumulateChangeEvent(dispatchQueue, inst, ...) {       â”‚
â”‚     const listeners = accumulateTwoPhaseListeners(inst, 'onChange');        â”‚
â”‚     if (listeners.length > 0) {                                             â”‚
â”‚       const event = new SyntheticEvent(                                     â”‚
â”‚         'onChange',      // reactName                                       â”‚
â”‚         'change',        // reactEventType                                  â”‚
â”‚         null,            // targetInst                                      â”‚
â”‚         nativeEvent,     // åŸç”Ÿ input äº‹ä»¶                                 â”‚
â”‚         target,          // <input> å…ƒç´                                     â”‚
â”‚       );                                                                    â”‚
â”‚       dispatchQueue.push({event, listeners});                               â”‚
â”‚     }                                                                       â”‚
â”‚   }                                                                         â”‚
â”‚                                                                             â”‚
â”‚   æ³¨æ„: è™½ç„¶åŸç”Ÿäº‹ä»¶æ˜¯ 'input'ï¼Œä½† SyntheticEvent.type æ˜¯ 'change'          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T4: æ‰§è¡Œ onChange å›è°ƒ                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   processDispatchQueue(dispatchQueue, eventSystemFlags)                     â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â””â”€â†’ executeDispatch(event, listener, currentTarget)                    â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â””â”€â†’ onChange(e)                                                  â”‚
â”‚                 â”‚                                                           â”‚
â”‚                 â””â”€â†’ console.log('onChange triggered:', 'a')                â”‚
â”‚                 â””â”€â†’ setValue('a')                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T5: è§¦å‘æ›´æ–°ï¼ˆåŒ Case Aï¼‰                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   setValue('a')                                                             â”‚
â”‚     â”‚                                                                       â”‚
â”‚     â””â”€â†’ dispatchSetState(fiber, queue, 'a')                                â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â””â”€â†’ lane = SyncLane (æ¥è‡ª DiscreteEventPriority)                 â”‚
â”‚           â””â”€â†’ scheduleUpdateOnFiber(fiber, SyncLane)                       â”‚
â”‚                                                                             â”‚
â”‚   æ›´æ–°å®Œæˆåï¼Œinput æ˜¾ç¤º "a"                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


å—æ§ç»„ä»¶çš„ç‰¹æ®Šå¤„ç†:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å—æ§ç»„ä»¶å€¼åŒæ­¥                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   React éœ€è¦ç¡®ä¿å—æ§ç»„ä»¶çš„å€¼ä¸ state ä¿æŒåŒæ­¥                               â”‚
â”‚                                                                             â”‚
â”‚   é—®é¢˜åœºæ™¯:                                                                 â”‚
â”‚   1. ç”¨æˆ·è¾“å…¥ "a"                                                           â”‚
â”‚   2. onChange ä¸­ setState('a')                                              â”‚
â”‚   3. ä½†å¦‚æœ onChange ä¸­æœ‰éªŒè¯é€»è¾‘ï¼Œæ‹’ç»äº†è¿™ä¸ªå€¼ï¼š                           â”‚
â”‚      onChange = (e) => {                                                    â”‚
â”‚        if (e.target.value !== 'forbidden') {                                â”‚
â”‚          setValue(e.target.value);                                          â”‚
â”‚        }                                                                    â”‚
â”‚        // å¦‚æœæ˜¯ 'forbidden'ï¼Œä¸è°ƒç”¨ setValue                               â”‚
â”‚      }                                                                      â”‚
â”‚   4. è¿™æ—¶ input çš„ DOM å€¼å·²ç»å˜æˆ "a"ï¼Œä½† state æ²¡å˜                        â”‚
â”‚   5. éœ€è¦æŠŠ DOM å€¼æ¢å¤åˆ° state çš„å€¼                                         â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“ ReactDOMControlledComponent.js: restoreStateIfNeeded                  â”‚
â”‚                                                                             â”‚
â”‚   React åœ¨ ChangeEventPlugin ä¸­è°ƒç”¨ enqueueStateRestore()                   â”‚
â”‚   äº‹ä»¶å¤„ç†å®Œæˆåï¼Œæ£€æŸ¥å¹¶æ¢å¤å—æ§ç»„ä»¶çš„å€¼                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`;

// ============================================================
// Part 5: é¢è¯•è¦ç‚¹
// ============================================================

const interviewPoints = `
ğŸ’¡ Part 4 é¢è¯•è¦ç‚¹

Q1: äº‹ä»¶ä¼˜å…ˆçº§æœ‰å“ªäº›ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
A: ä¸‰ç§ä¸»è¦ä¼˜å…ˆçº§ï¼š
   - DiscreteEventPriority: clickã€input ç­‰ï¼Œæœ€é«˜ä¼˜å…ˆçº§ï¼ŒåŒæ­¥æ‰§è¡Œ
   - ContinuousEventPriority: scrollã€mousemove ç­‰ï¼Œè¾ƒä½ä¼˜å…ˆçº§
   - DefaultEventPriority: loadã€error ç­‰ï¼Œé»˜è®¤ä¼˜å…ˆçº§
   ä½œç”¨ï¼šå†³å®šäº‹ä»¶è§¦å‘çš„æ›´æ–°ä½¿ç”¨å“ªä¸ª Laneï¼Œå½±å“æ›´æ–°çš„è°ƒåº¦

Q2: ä¸ºä»€ä¹ˆ click è§¦å‘çš„æ›´æ–°æ˜¯åŒæ­¥çš„ï¼Ÿ
A: click è¢«åˆ†ç±»ä¸ºç¦»æ•£äº‹ä»¶ï¼ˆDiscreteEventPriorityï¼‰
   åœ¨ dispatchDiscreteEvent ä¸­è®¾ç½® currentUpdatePriority
   å½“ setState è°ƒç”¨æ—¶ï¼ŒrequestUpdateLane è¿”å› SyncLane
   SyncLane çš„æ›´æ–°åœ¨äº‹ä»¶å›è°ƒç»“æŸååŒæ­¥æ‰§è¡Œ

Q3: React çš„ onChange å’ŒåŸç”Ÿ change æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: åŸç”Ÿ change äº‹ä»¶åœ¨ blur æ—¶æ‰è§¦å‘
   React onChange ç›‘å¬å¤šä¸ªåŸç”Ÿäº‹ä»¶ï¼šinputã€keydownã€keyupã€change ç­‰
   ç›®çš„æ˜¯åœ¨"å€¼æ”¹å˜æ—¶"ç«‹å³è§¦å‘ï¼Œè€Œä¸æ˜¯ç­‰åˆ° blur
   React ä¼šæ£€æŸ¥å€¼æ˜¯å¦çœŸçš„æ”¹å˜ï¼Œé¿å…é‡å¤è§¦å‘

Q4: å¦‚ä½•å®ç°ä¸€ä¸ªç‚¹å‡»äº‹ä»¶çš„ stopPropagationï¼Ÿ
A: è°ƒç”¨ e.stopPropagation() ä¼šï¼š
   1. è°ƒç”¨åŸç”Ÿäº‹ä»¶çš„ stopPropagation()
   2. è®¾ç½® syntheticEvent.isPropagationStopped = true
   3. processDispatchQueueItemsInOrder åœ¨æ‰§è¡Œæ¯ä¸ª listener å‰æ£€æŸ¥è¿™ä¸ªæ ‡å¿—
   4. å¦‚æœä¸º trueï¼Œåœæ­¢åç»­ listener çš„æ‰§è¡Œ

Q5: React 18 ä¸­äº‹ä»¶ä¼˜å…ˆçº§å’Œ Lane æ˜¯å¦‚ä½•å¯¹åº”çš„ï¼Ÿ
A: - DiscreteEventPriority â†’ SyncLane â†’ åŒæ­¥æ¸²æŸ“
   - ContinuousEventPriority â†’ InputContinuousLane â†’ é«˜ä¼˜å…ˆçº§å¹¶å‘
   - DefaultEventPriority â†’ DefaultLane â†’ é»˜è®¤å¹¶å‘ä¼˜å…ˆçº§
   è¿™ä¸ªå¯¹åº”å…³ç³»ä¿è¯äº†ç”¨æˆ·äº¤äº’èƒ½å¾—åˆ°åŠæ—¶å“åº”
`;

export {
  eventPrioritySystem,
  eventToUpdatePriority,
  caseAOnClick,
  caseBOnChange,
  interviewPoints,
};

