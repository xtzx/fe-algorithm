/**
 * ============================================================
 * ğŸ“š Phase 7: å¹¶å‘ç‰¹æ€§ - Part 5: æºç å¯¼èˆªä¸æ€»ç»“
 * ============================================================
 *
 * æœ¬æ–‡ä»¶æ±‡æ€»å¹¶å‘ç‰¹æ€§ç›¸å…³çš„é‡è¦æºç ä½ç½®å’Œé˜…è¯»å»ºè®®
 */

// ============================================================
// Part 1: æºç æ–‡ä»¶ç»“æ„
// ============================================================

const sourceCodeStructure = `
ğŸ“ å¹¶å‘ç‰¹æ€§ç›¸å…³æºç ç»“æ„

packages/
â”œâ”€â”€ react/src/
â”‚   â”œâ”€â”€ ReactStartTransition.js      â­ startTransition å…¥å£
â”‚   â”œâ”€â”€ ReactCurrentBatchConfig.js   transition æ ‡è®°
â”‚   â””â”€â”€ ReactHooks.js                Hooks API å®šä¹‰
â”‚
â”œâ”€â”€ react-reconciler/src/
â”‚   â”œâ”€â”€ ReactFiberWorkLoop.new.js    â­â­â­ æ ¸å¿ƒå·¥ä½œå¾ªç¯
â”‚   â”œâ”€â”€ ReactFiberLane.new.js        â­â­ Lane ä¼˜å…ˆçº§æ¨¡å‹
â”‚   â”œâ”€â”€ ReactFiberHooks.new.js       â­â­ Hooks å®ç°ï¼ˆå« useTransitionï¼‰
â”‚   â”œâ”€â”€ ReactFiberBeginWork.new.js   beginWorkï¼ˆå« Suspenseï¼‰
â”‚   â”œâ”€â”€ ReactFiberThrow.new.js       â­ é”™è¯¯å¤„ç†ï¼ˆSuspense æŒ‚èµ·ï¼‰
â”‚   â”œâ”€â”€ ReactFiberSuspenseComponent.new.js  Suspense çŠ¶æ€
â”‚   â”œâ”€â”€ ReactFiberOffscreenComponent.js     Offscreen ç»„ä»¶
â”‚   â””â”€â”€ ReactFiberConcurrentUpdates.new.js  å¹¶å‘æ›´æ–°é˜Ÿåˆ—
â”‚
â””â”€â”€ react-dom/src/
    â””â”€â”€ client/
        â””â”€â”€ ReactDOMRoot.js          â­ createRoot å…¥å£

é˜…è¯»é¡ºåºå»ºè®®:
1. ReactStartTransition.js          - ç†è§£ startTransition å…¥å£
2. ReactCurrentBatchConfig.js       - ç†è§£ transition æ ‡è®°æœºåˆ¶
3. ReactFiberLane.new.js            - ç†è§£ Lane ä¸å¹¶å‘çš„å…³ç³»
4. ReactFiberHooks.new.js           - ç†è§£ useTransition/useDeferredValue
5. ReactFiberWorkLoop.new.js        - ç†è§£æ¸²æŸ“æµç¨‹ä¸­çš„å¹¶å‘å¤„ç†
6. ReactFiberBeginWork.new.js       - ç†è§£ Suspense å¤„ç†
`;

// ============================================================
// Part 2: å…³é”®å‡½æ•°é€ŸæŸ¥è¡¨
// ============================================================

const keyFunctionsTable = `
ğŸ“Š å…³é”®å‡½æ•°é€ŸæŸ¥è¡¨

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       startTransition ç›¸å…³                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ å‡½æ•°å                  â”‚ æ–‡ä»¶                          â”‚ è¡Œå·    â”‚ ä½œç”¨    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ startTransition         â”‚ react/src/ReactStartTransition.js â”‚ 14   â”‚ APIå…¥å£ â”‚
â”‚ startTransition (å†…éƒ¨)  â”‚ ReactFiberHooks.new.js        â”‚ 2002    â”‚ å®é™…å®ç°â”‚
â”‚ mountTransition         â”‚ ReactFiberHooks.new.js        â”‚ 2049    â”‚ mount   â”‚
â”‚ updateTransition        â”‚ ReactFiberHooks.new.js        â”‚ 2061    â”‚ update  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       useDeferredValue ç›¸å…³                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ å‡½æ•°å                  â”‚ æ–‡ä»¶                          â”‚ è¡Œå·    â”‚ ä½œç”¨    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ mountDeferredValue      â”‚ ReactFiberHooks.new.js        â”‚ 1931    â”‚ mount   â”‚
â”‚ updateDeferredValue     â”‚ ReactFiberHooks.new.js        â”‚ 1937    â”‚ update  â”‚
â”‚ updateDeferredValueImpl â”‚ ReactFiberHooks.new.js        â”‚ 1957    â”‚ æ ¸å¿ƒé€»è¾‘â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Lane ä¼˜å…ˆçº§ç›¸å…³                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ å‡½æ•°å                  â”‚ æ–‡ä»¶                          â”‚ è¡Œå·    â”‚ ä½œç”¨    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ claimNextTransitionLane â”‚ ReactFiberLane.new.js         â”‚ 493     â”‚ åˆ†é…Laneâ”‚
â”‚ isTransitionLane        â”‚ ReactFiberLane.new.js         â”‚ 489     â”‚ åˆ¤æ–­ç±»å‹â”‚
â”‚ includesBlockingLane    â”‚ ReactFiberLane.new.js         â”‚ 467     â”‚ åˆ¤æ–­é˜»å¡â”‚
â”‚ includesOnlyTransitions â”‚ ReactFiberLane.new.js         â”‚ 463     â”‚ åˆ¤æ–­è¿‡æ¸¡â”‚
â”‚ getNextLanes            â”‚ ReactFiberLane.new.js         â”‚ 232     â”‚ è·å–ä¼˜å…ˆâ”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ¸²æŸ“æµç¨‹ç›¸å…³                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ å‡½æ•°å                      â”‚ æ–‡ä»¶                      â”‚ è¡Œå·    â”‚ ä½œç”¨    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ performConcurrentWorkOnRoot â”‚ ReactFiberWorkLoop.new.js â”‚ 829     â”‚ å¹¶å‘å…¥å£â”‚
â”‚ renderRootConcurrent        â”‚ ReactFiberWorkLoop.new.js â”‚ 1748    â”‚ å¹¶å‘æ¸²æŸ“â”‚
â”‚ workLoopConcurrent          â”‚ ReactFiberWorkLoop.new.js â”‚ 1829    â”‚ å¯ä¸­æ–­å¾ªç¯â”‚
â”‚ ensureRootIsScheduled       â”‚ ReactFiberWorkLoop.new.js â”‚ 696     â”‚ è°ƒåº¦æ›´æ–°â”‚
â”‚ requestUpdateLane           â”‚ ReactFiberWorkLoop.new.js â”‚ 423     â”‚ è¯·æ±‚Laneâ”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Suspense ç›¸å…³                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ å‡½æ•°å                      â”‚ æ–‡ä»¶                      â”‚ è¡Œå·    â”‚ ä½œç”¨    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ updateSuspenseComponent     â”‚ ReactFiberBeginWork.new.jsâ”‚ 2141    â”‚ æ›´æ–°å¤„ç†â”‚
â”‚ throwException              â”‚ ReactFiberThrow.new.js    â”‚ 434     â”‚ æŒ‚èµ·å¤„ç†â”‚
â”‚ attachPingListener          â”‚ ReactFiberThrow.new.js    â”‚ 183     â”‚ ç›‘å¬resolveâ”‚
â”‚ pingSuspendedRoot           â”‚ ReactFiberWorkLoop.new.js â”‚ 2972    â”‚ é‡æ–°è°ƒåº¦â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`;

// ============================================================
// Part 3: ä¸å…¶ä»– Phase çš„å…³è”
// ============================================================

const relationWithOtherPhases = `
ğŸ“Š å¹¶å‘ç‰¹æ€§ä¸å…¶ä»– Phase çš„å…³è”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Phase 2: Fiber æ¶æ„                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚                                                                             â”‚
â”‚  Fiber ä¸ºå¹¶å‘æä¾›çš„åŸºç¡€:                                                    â”‚
â”‚  1. é“¾è¡¨ç»“æ„ â†’ å¯ä»¥ä»ä»»æ„ä½ç½®æš‚åœ/æ¢å¤                                      â”‚
â”‚  2. workInProgress â†’ ä¿å­˜ä¸­æ–­æ—¶çš„ä½ç½®                                       â”‚
â”‚  3. alternate â†’ åŒç¼“å†²ï¼Œä¸­æ–­ä¸å½±å“å½“å‰ UI                                   â”‚
â”‚                                                                             â”‚
â”‚  å¹¶å‘ç‰¹æ€§ä½¿ç”¨ Fiber çš„æ–¹å¼:                                                 â”‚
â”‚  - workLoopConcurrent ä¸­éå† Fiber æ ‘                                       â”‚
â”‚  - æ¯ä¸ª Fiber å¤„ç†åæ£€æŸ¥ shouldYield                                        â”‚
â”‚  - ä¸­æ–­æ—¶ workInProgress ä¿ç•™å½“å‰ä½ç½®                                       â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Phase 3: æ¸²æŸ“æµç¨‹                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚                                                                             â”‚
â”‚  æ¸²æŸ“æµç¨‹ä¸­çš„å¹¶å‘æ¥å…¥ç‚¹:                                                    â”‚
â”‚                                                                             â”‚
â”‚  scheduleUpdateOnFiber                                                      â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â–¼                                                                    â”‚
â”‚  ensureRootIsScheduled â† â­ å†³å®šåŒæ­¥è¿˜æ˜¯å¹¶å‘                                â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â”œâ”€â”€â”€ SyncLane â†’ renderRootSync (Phase 3 æµç¨‹)                       â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â””â”€â”€â”€ å…¶ä»– Lane â†’ performConcurrentWorkOnRoot                        â”‚
â”‚                  â”‚                                                          â”‚
â”‚                  â”œâ”€â”€ shouldTimeSlice = true                                â”‚
â”‚                  â”‚         â”‚                                                â”‚
â”‚                  â”‚         â–¼                                                â”‚
â”‚                  â”‚   renderRootConcurrent â† â­ å¯ä¸­æ–­æ¸²æŸ“                   â”‚
â”‚                  â”‚         â”‚                                                â”‚
â”‚                  â”‚         â–¼                                                â”‚
â”‚                  â”‚   workLoopConcurrent                                     â”‚
â”‚                  â”‚   (æ¯ä¸ª Fiber åæ£€æŸ¥ shouldYield)                        â”‚
â”‚                  â”‚                                                          â”‚
â”‚                  â””â”€â”€ shouldTimeSlice = false                               â”‚
â”‚                            â”‚                                                â”‚
â”‚                            â–¼                                                â”‚
â”‚                      renderRootSync (ä¸å¯ä¸­æ–­)                              â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Phase 5: Diff ç®—æ³•                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚                                                                             â”‚
â”‚  å¹¶å‘ç‰¹æ€§å¯¹ Diff çš„å½±å“:                                                    â”‚
â”‚  - Diff ç®—æ³•æœ¬èº«ä¸å˜ï¼ˆreconcileChildFibersï¼‰                                â”‚
â”‚  - åªæ˜¯"ä½•æ—¶æ‰§è¡Œ"å˜äº†                                                       â”‚
â”‚  - å¯èƒ½è¢«ä¸­æ–­ï¼Œä¸‹æ¬¡ç»§ç»­                                                     â”‚
â”‚                                                                             â”‚
â”‚  ä¾‹å¦‚:                                                                      â”‚
â”‚  - æ­£åœ¨ Diff å¤§åˆ—è¡¨                                                         â”‚
â”‚  - ç”¨æˆ·è¾“å…¥è§¦å‘é«˜ä¼˜å…ˆçº§æ›´æ–°                                                 â”‚
â”‚  - ä¸­æ–­å½“å‰ Diff                                                            â”‚
â”‚  - æ‰§è¡Œé«˜ä¼˜å…ˆçº§æ¸²æŸ“                                                         â”‚
â”‚  - å®Œæˆåç»§ç»­/é‡æ–° Diff                                                     â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Phase 6: è°ƒåº¦æœºåˆ¶                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚                                                                             â”‚
â”‚  å¹¶å‘ç‰¹æ€§å¦‚ä½•åˆ©ç”¨ Scheduler:                                                â”‚
â”‚                                                                             â”‚
â”‚  Lane â†’ Scheduler Priority æ˜ å°„:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Lane                   â”‚ Scheduler Priority         â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚ SyncLane               â”‚ ImmediatePriority (å¾®ä»»åŠ¡) â”‚                    â”‚
â”‚  â”‚ InputContinuousLane    â”‚ UserBlockingPriority       â”‚                    â”‚
â”‚  â”‚ DefaultLane            â”‚ NormalPriority             â”‚                    â”‚
â”‚  â”‚ TransitionLane         â”‚ NormalPriority             â”‚                    â”‚
â”‚  â”‚ IdleLane               â”‚ IdlePriority               â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â”‚  å…³é”®é…åˆ:                                                                  â”‚
â”‚  1. Scheduler æä¾› shouldYield()                                            â”‚
â”‚  2. workLoopConcurrent è°ƒç”¨ shouldYield() åˆ¤æ–­ä¸­æ–­                          â”‚
â”‚  3. ä»»åŠ¡è¢«æ‰“æ–­æ—¶ï¼ŒperformConcurrentWorkOnRoot è¿”å› continuation            â”‚
â”‚  4. Scheduler ä¿å­˜ continuationï¼Œä¸‹æ¬¡ç»§ç»­æ‰§è¡Œ                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
`;

// ============================================================
// Part 4: é¢è¯•é¢˜æ€»ç»“
// ============================================================

const interviewQuestions = `
ğŸ’¡ Phase 7 é¢è¯•é¢˜æ€»ç»“

Q1: ä»€ä¹ˆæ˜¯ React å¹¶å‘æ¨¡å¼ï¼Ÿå®ƒè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
A: å¹¶å‘æ¨¡å¼æ˜¯ React 18 çš„æ¸²æŸ“æ¨¡å¼ï¼Œé€šè¿‡å¯ä¸­æ–­æ¸²æŸ“å’Œä¼˜å…ˆçº§è°ƒåº¦ï¼Œ
   è§£å†³é•¿ä»»åŠ¡é˜»å¡ç”¨æˆ·äº¤äº’çš„é—®é¢˜ã€‚æ ¸å¿ƒèƒ½åŠ›ï¼š
   - æ¸²æŸ“å¯ä¸­æ–­ï¼ˆåŸºäº Fiber çš„é“¾è¡¨ç»“æ„ï¼‰
   - ä¼˜å…ˆçº§è°ƒåº¦ï¼ˆåŸºäº Lane æ¨¡å‹ï¼‰
   - æ—¶é—´åˆ‡ç‰‡ï¼ˆåŸºäº Schedulerï¼‰

Q2: startTransition çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå†…éƒ¨åŸç†ï¼Ÿ
A: ä½œç”¨ï¼šæ ‡è®°ä½ä¼˜å…ˆçº§æ›´æ–°ï¼Œå¯è¢«ç”¨æˆ·äº¤äº’æ‰“æ–­
   åŸç†ï¼š
   1. è®¾ç½® ReactCurrentBatchConfig.transition = {}
   2. æ‰§è¡Œå›è°ƒå†…çš„ setState
   3. requestUpdateLane æ£€æµ‹åˆ° transitionï¼Œè¿”å› TransitionLane
   4. TransitionLane åœ¨æ¸²æŸ“æ—¶åˆ¤æ–­ä¸ºå¯ä¸­æ–­

Q3: useTransition å’Œ startTransition çš„åŒºåˆ«ï¼Ÿ
A: 
   startTransitionï¼šåªæ˜¯æ ‡è®°ä½ä¼˜å…ˆçº§ï¼Œæ²¡æœ‰çŠ¶æ€
   useTransitionï¼šè¿”å› [isPending, startTransition]
   - isPending åœ¨è¿‡æ¸¡æœŸé—´ä¸º true
   - å¯ä»¥ç”¨äºæ˜¾ç¤ºåŠ è½½çŠ¶æ€

Q4: useDeferredValue å¦‚ä½•å·¥ä½œï¼Ÿå’Œ useTransition åŒºåˆ«ï¼Ÿ
A: useDeferredValueï¼š
   - ç´§æ€¥æ›´æ–°æ—¶è¿”å›æ—§å€¼
   - åŒæ—¶è°ƒåº¦ TransitionLane æ›´æ–°
   - é€‚åˆæ— æ³•æ§åˆ¶ setState çš„åœºæ™¯ï¼ˆå¦‚ç¬¬ä¸‰æ–¹åº“ propsï¼‰
   
   åŒºåˆ«ï¼š
   - useTransition ä¸»åŠ¨åŒ…è£¹ setState
   - useDeferredValue è¢«åŠ¨å»¶è¿Ÿå€¼æ›´æ–°

Q5: ä¸ºä»€ä¹ˆ Transition ä¸­çš„ Suspense ä¸ä¼šç«‹å³æ˜¾ç¤º fallbackï¼Ÿ
A: åœ¨ updateSuspenseComponent ä¸­ï¼š
   - æ£€æµ‹åˆ°æŒ‚èµ·å‘ç”Ÿ
   - å¦‚æœ isTransitionLane(renderLanes) ä¸º true
   - ä¸æ˜¾ç¤º fallbackï¼Œä¿æŒæ—§å†…å®¹
   - ç­‰å¾…æ•°æ®å°±ç»ªåå†åˆ‡æ¢

Q6: ä»€ä¹ˆæƒ…å†µä¸‹æ›´æ–°æ˜¯å¯ä¸­æ–­çš„ï¼Ÿ
A: åœ¨ performConcurrentWorkOnRoot ä¸­åˆ¤æ–­ï¼š
   shouldTimeSlice = !includesBlockingLane(lanes) && 
                     !includesExpiredLane(lanes)
   - ä¸åŒ…å« SyncLaneã€InputContinuousLane
   - æ²¡æœ‰è¿‡æœŸçš„ Lane
   - TransitionLane æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œå¯ä¸­æ–­

Q7: å¹¶å‘æ¸²æŸ“è¢«ä¸­æ–­åå¦‚ä½•æ¢å¤ï¼Ÿ
A: 
   1. workInProgress ä¿ç•™å½“å‰ Fiber
   2. performConcurrentWorkOnRoot è¿”å› continuation
   3. Scheduler ä¿å­˜ continuation
   4. ä¸‹æ¬¡æ‰§è¡Œæ—¶æ£€æŸ¥ workInProgressRoot === root
   5. å¦‚æœç›¸åŒï¼Œä» workInProgress ç»§ç»­

Q8: ä¸ºä»€ä¹ˆè¦æœ‰ 16 ä¸ª TransitionLaneï¼Ÿ
A: å…è®¸å¤šä¸ªç‹¬ç«‹çš„ transition åŒæ—¶å­˜åœ¨ï¼š
   - ä¸åŒ transition åˆ†é…ä¸åŒ Lane
   - å¯ä»¥ç‹¬ç«‹è¿½è¸ªå’Œç®¡ç†
   - å¾ªç¯ä½¿ç”¨ï¼Œé¿å… Lane è€—å°½

Q9: createRoot å’Œ render çš„åŒºåˆ«ï¼Ÿ
A: 
   render (Legacy)ï¼šåŒæ­¥æ¨¡å¼ï¼Œä¸æ”¯æŒå¹¶å‘ç‰¹æ€§
   createRoot (Concurrent)ï¼š
   - åˆ›å»º ConcurrentRoot
   - å¯ç”¨å¹¶å‘æ¸²æŸ“
   - è‡ªåŠ¨æ‰¹å¤„ç†
   - æ”¯æŒ Suspenseã€Transitions

Q10: å¹¶å‘ç‰¹æ€§å¦‚ä½•æå‡ç”¨æˆ·ä½“éªŒï¼Ÿ
A: 
   1. è¾“å…¥å“åº”ï¼šé«˜ä¼˜å…ˆçº§ç«‹å³æ‰§è¡Œï¼Œè¾“å…¥ä¸å¡é¡¿
   2. å¹³æ»‘è¿‡æ¸¡ï¼šTransition é¿å…ä¸­é—´çŠ¶æ€
   3. æ— é—ªçƒï¼šSuspense + Transition ä¿æŒæ—§å†…å®¹
   4. å¯å–æ¶ˆï¼šæ–°æ›´æ–°å¯ä»¥å–æ¶ˆæ—§çš„ä½ä¼˜å…ˆçº§æ¸²æŸ“
`;

// ============================================================
// Part 5: å­¦ä¹ æ£€æŸ¥æ¸…å•
// ============================================================

const learningChecklist = `
âœ… Phase 7 å­¦ä¹ æ£€æŸ¥

â–¡ æ ¸å¿ƒæ¦‚å¿µ
  â–¡ ç†è§£å¹¶å‘æ¨¡å¼è§£å†³çš„é—®é¢˜ï¼ˆé•¿ä»»åŠ¡é˜»å¡ï¼‰
  â–¡ ç†è§£åŒæ­¥æ¨¡å¼ vs å¹¶å‘æ¨¡å¼çš„åŒºåˆ«
  â–¡ ç†è§£å¯ä¸­æ–­æ¸²æŸ“ã€æ—¶é—´åˆ‡ç‰‡ã€ä¼˜å…ˆçº§è°ƒåº¦

â–¡ API ä½¿ç”¨
  â–¡ èƒ½æ­£ç¡®ä½¿ç”¨ createRoot å¯ç”¨å¹¶å‘æ¨¡å¼
  â–¡ èƒ½æ­£ç¡®ä½¿ç”¨ startTransition æ ‡è®°ä½ä¼˜å…ˆçº§
  â–¡ èƒ½æ­£ç¡®ä½¿ç”¨ useTransition å¹¶æ˜¾ç¤º isPending
  â–¡ èƒ½æ­£ç¡®ä½¿ç”¨ useDeferredValue å»¶è¿Ÿå€¼æ›´æ–°
  â–¡ ç†è§£ Suspense + Transition çš„é…åˆ

â–¡ å†…éƒ¨åŸç†
  â–¡ ç†è§£ Lane å¦‚ä½•æ ‡è®°å¹¶å‘æ›´æ–°ï¼ˆTransitionLaneï¼‰
  â–¡ ç†è§£ shouldTimeSlice çš„åˆ¤æ–­é€»è¾‘
  â–¡ ç†è§£æ›´æ–°å¦‚ä½•è¢«æ‰“æ–­å’Œæ¢å¤
  â–¡ ç†è§£ ReactCurrentBatchConfig.transition çš„ä½œç”¨

â–¡ çœŸå®æ¡ˆä¾‹
  â–¡ èƒ½è§£é‡Šæœç´¢è¾“å…¥æ¡†åœºæ™¯çš„ä¼˜åŒ–åŸç†
  â–¡ èƒ½è§£é‡Š Suspense + Transition é¿å…é—ªçƒçš„åŸç†
  â–¡ èƒ½ç”»å‡ºæ›´æ–°çš„æ—¶é—´çº¿

â–¡ æºç ä½ç½®
  â–¡ çŸ¥é“ startTransition å…¥å£åœ¨å“ª
  â–¡ çŸ¥é“ useTransition/useDeferredValue å®ç°åœ¨å“ª
  â–¡ çŸ¥é“ Lane ç›¸å…³å‡½æ•°åœ¨å“ª
  â–¡ çŸ¥é“æ¸²æŸ“æµç¨‹ä¸­çš„å¹¶å‘åˆ¤æ–­åœ¨å“ª

â–¡ ä¸å…¶ä»– Phase çš„å…³ç³»
  â–¡ ç†è§£ Fiber å¦‚ä½•æ”¯æŒå¯ä¸­æ–­
  â–¡ ç†è§£æ¸²æŸ“æµç¨‹ä¸­å¹¶å‘çš„æ¥å…¥ç‚¹
  â–¡ ç†è§£ Scheduler å¦‚ä½•é…åˆå®ç°æ—¶é—´åˆ‡ç‰‡
`;

export {
  sourceCodeStructure,
  keyFunctionsTable,
  relationWithOtherPhases,
  interviewQuestions,
  learningChecklist,
};

