/**
 * ============================================================
 * 📚 技术规划
 * ============================================================
 *
 * 面试考察重点：
 * 1. 技术规划方法论
 * 2. 技术选型决策
 * 3. 技术债务管理
 * 4. 技术演进路线
 */

// ============================================================
// 1. 技术规划方法论
// ============================================================

/**
 * 📊 技术规划框架
 *
 * ┌─────────────────────────────────────────────────────────────────┐
 * │                      技术规划四步法                              │
 * │                                                                 │
 * │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────┐│
 * │  │  现状分析   │ → │  目标设定   │ → │  路径规划   │ → │  落地执行│ │
 * │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────┘│
 * │                                                                 │
 * │  问题在哪？      要去哪？        怎么去？        如何确保？      │
 * │                                                                 │
 * └─────────────────────────────────────────────────────────────────┘
 *
 * 📊 规划周期
 *
 * - 短期（季度）：具体任务，可执行
 * - 中期（年度）：技术方向，可衡量
 * - 长期（3年）：技术愿景，可调整
 */

// ============================================================
// 2. 现状分析
// ============================================================

/**
 * 📊 技术现状诊断
 *
 * 1. 架构健康度
 *    - 模块划分是否合理
 *    - 依赖关系是否清晰
 *    - 是否存在技术债务
 *
 * 2. 工程化成熟度
 *    - 构建部署效率
 *    - 代码质量保障
 *    - 监控告警体系
 *
 * 3. 团队能力
 *    - 技术栈熟练度
 *    - 人员结构
 *    - 知识沉淀
 *
 * 4. 业务支撑
 *    - 需求响应速度
 *    - 系统稳定性
 *    - 用户体验
 */

const techAssessmentTemplate = `
# 前端技术现状评估

## 1. 架构健康度

### 1.1 代码架构
- [ ] 模块划分清晰
- [ ] 依赖方向正确（无循环依赖）
- [ ] 关注点分离
- [ ] 复用程度合理

### 1.2 技术债务
| 债务类型 | 严重程度 | 影响范围 | 处理优先级 |
|---------|---------|---------|-----------|
| 老旧框架版本 | 高 | 全局 | P0 |
| 组件耦合严重 | 中 | 局部 | P1 |
| 缺少类型定义 | 低 | 全局 | P2 |

### 1.3 可维护性评分
- 代码可读性：⭐⭐⭐☆☆
- 测试覆盖率：60%
- 文档完善度：⭐⭐☆☆☆

## 2. 工程化成熟度

### 2.1 研发效能
- 平均构建时间：5 分钟
- 部署频率：每周 2-3 次
- 需求平均交付周期：2 周

### 2.2 质量保障
- 单元测试覆盖率：60%
- E2E 测试覆盖率：20%
- 线上 Bug 率：2%

### 2.3 监控能力
- [ ] 错误监控 ✅
- [ ] 性能监控 ⚠️ 部分
- [ ] 用户行为监控 ❌

## 3. 团队能力

### 3.1 人员结构
- 高级工程师：2人
- 中级工程师：4人
- 初级工程师：2人

### 3.2 技术栈熟练度
- React：★★★★☆
- TypeScript：★★★☆☆
- 工程化：★★★☆☆

## 4. 核心问题识别

1. 技术债务积累严重
2. 缺乏统一组件库
3. 监控体系不完善
4. 文档缺失
`;

// ============================================================
// 3. 目标设定
// ============================================================

/**
 * 📊 SMART 目标
 *
 * S - Specific（具体的）
 * M - Measurable（可衡量的）
 * A - Achievable（可实现的）
 * R - Relevant（相关的）
 * T - Time-bound（有时限的）
 */

const techGoalsExample = `
# 2024 年前端技术目标

## 北极星指标
- 首屏加载时间 < 2s（P95）
- 线上 Bug 率 < 1%
- 需求交付周期 < 1 周

## Q1 目标

### 1. 性能优化（40%）
- [ ] 首屏 LCP < 2.5s
- [ ] 核心路径 TTI < 3s
- [ ] Bundle Size 减少 30%

### 2. 质量提升（30%）
- [ ] 单元测试覆盖率 > 80%
- [ ] 关键流程 E2E 覆盖
- [ ] TypeScript 严格模式

### 3. 工程化（20%）
- [ ] 构建时间 < 2 分钟
- [ ] 完善监控告警
- [ ] 灰度发布能力

### 4. 团队建设（10%）
- [ ] 建立代码规范
- [ ] 技术分享机制
- [ ] 新人培养计划

## 关键里程碑
- 3月底：完成性能优化
- 6月底：完成质量体系建设
- 9月底：完成工程化升级
- 12月底：达成年度目标
`;

// ============================================================
// 4. 技术选型
// ============================================================

/**
 * 📊 技术选型决策框架
 *
 * 1. 需求分析：要解决什么问题
 * 2. 方案调研：有哪些候选方案
 * 3. 评估对比：各方案优劣
 * 4. 决策记录：为什么选这个
 * 5. 风险预案：可能的问题
 */

const techDecisionTemplate = `
# 技术选型决策记录

## 背景
描述当前面临的问题和业务背景

## 需求
- 功能需求：xxx
- 非功能需求：性能、可维护性、成本

## 候选方案

### 方案 A：xxx
**优点**
- xxx

**缺点**
- xxx

### 方案 B：xxx
**优点**
- xxx

**缺点**
- xxx

## 评估矩阵

| 维度 | 权重 | 方案 A | 方案 B | 方案 C |
|-----|-----|-------|-------|-------|
| 功能匹配 | 30% | 8 | 9 | 7 |
| 性能 | 25% | 9 | 7 | 8 |
| 团队熟悉度 | 20% | 9 | 5 | 7 |
| 社区生态 | 15% | 9 | 8 | 6 |
| 长期维护 | 10% | 8 | 9 | 7 |
| **总分** | 100% | **8.5** | 7.4 | 7.1 |

## 决策
选择方案 A

## 理由
1. 功能满足需求
2. 团队熟悉，上手快
3. 社区活跃，问题容易解决

## 风险与应对
| 风险 | 概率 | 影响 | 应对措施 |
|-----|-----|-----|---------|
| xxx | 中 | 高 | xxx |

## 决策参与者
- xxx（决策者）
- xxx（利益相关者）

## 日期
2024-01-15
`;

// ============================================================
// 5. 技术债务管理
// ============================================================

/**
 * 📊 技术债务四象限
 *
 *                  有意的
 *                    │
 *         鲁莽的 ────┼──── 谨慎的
 *                    │
 *                  无意的
 *
 * 谨慎有意：知道是债务，但选择承担（如赶工期）
 * 鲁莽有意：不在乎质量
 * 谨慎无意：事后发现更好方案
 * 鲁莽无意：能力不足导致
 */

const techDebtManagement = `
# 技术债务管理策略

## 1. 债务识别

### 识别来源
- Code Review
- 静态分析
- 性能监控
- 事故复盘

### 债务登记
| ID | 描述 | 类型 | 影响 | 修复成本 | 优先级 |
|---|-----|-----|-----|---------|-------|
| TD-001 | jQuery 遗留代码 | 架构 | 高 | 高 | P1 |
| TD-002 | 无类型定义 | 质量 | 中 | 中 | P2 |

## 2. 债务评估

### 影响评估
- 开发效率影响
- 系统稳定性影响
- 招聘培训成本

### 成本评估
- 修复人力成本
- 修复风险
- 机会成本

## 3. 偿还策略

### 偿还方式
- **渐进式**：随业务迭代逐步重构
- **专项式**：专门安排时间处理
- **保险式**：预留 20% 时间处理债务

### 优先级原则
- 高影响 + 低成本 → 优先处理
- 阻塞业务 → 优先处理
- 频繁修改的模块 → 优先处理

## 4. 预防机制

- 代码规范 + 自动检查
- Code Review 质量门禁
- 技术方案评审
- 定期技术审计
`;

// ============================================================
// 6. 技术演进路线
// ============================================================

const techRoadmapExample = `
# 前端技术演进路线图

## 2024 年路线图

### Q1：基础设施
┌─────────────────────────────────────────────────────────────┐
│  构建优化    代码规范    监控基础    组件库启动              │
│  Vite 迁移   ESLint     Sentry     基础组件               │
└─────────────────────────────────────────────────────────────┘

### Q2：质量提升
┌─────────────────────────────────────────────────────────────┐
│  测试体系    TypeScript   性能优化    组件库完善            │
│  Vitest      严格模式     Core Web   复杂组件              │
└─────────────────────────────────────────────────────────────┘

### Q3：工程化
┌─────────────────────────────────────────────────────────────┐
│  CI/CD      微前端      低代码     文档体系                 │
│  自动化      qiankun    表单搭建    Storybook             │
└─────────────────────────────────────────────────────────────┘

### Q4：平台化
┌─────────────────────────────────────────────────────────────┐
│  研发平台    数据驱动    团队赋能                           │
│  效能度量    AB测试      技术培训                          │
└─────────────────────────────────────────────────────────────┘

## 技术储备
- Server Components
- Edge Computing
- AI 辅助开发
`;

// ============================================================
// 7. ⚠️ 注意事项（易错点）
// ============================================================

/**
 * ⚠️ 常见问题
 *
 * 1. 规划脱离业务
 *    - 技术服务于业务
 *    - 优先解决业务痛点
 *
 * 2. 目标过于激进
 *    - 考虑团队实际能力
 *    - 预留缓冲时间
 *
 * 3. 技术选型偏见
 *    - 避免「银弹思维」
 *    - 结合团队和业务
 *
 * 4. 忽视技术债务
 *    - 债务会利滚利
 *    - 定期偿还
 *
 * 5. 缺乏跟踪机制
 *    - 定期 Review 进度
 *    - 及时调整计划
 */

// ============================================================
// 8. 💡 面试追问
// ============================================================

/**
 * 💡 深度追问
 *
 * Q1: 如何做技术规划？
 * A:
 *    四步法：现状分析 → 目标设定 → 路径规划 → 落地执行
 *
 * Q2: 如何进行技术选型？
 * A:
 *    - 明确需求和约束
 *    - 调研候选方案
 *    - 多维度评估
 *    - 记录决策过程
 *
 * Q3: 如何管理技术债务？
 * A:
 *    - 识别和登记
 *    - 评估影响和成本
 *    - 制定偿还策略
 *    - 建立预防机制
 *
 * Q4: 技术规划如何与业务对齐？
 * A:
 *    - 理解业务目标
 *    - 识别技术支撑点
 *    - 量化技术价值
 *    - 定期同步汇报
 */

export {
  techAssessmentTemplate,
  techGoalsExample,
  techDecisionTemplate,
  techDebtManagement,
  techRoadmapExample,
};

