/**
 * ============================================================
 * 📚 沟通与协作
 * ============================================================
 *
 * 面试考察重点：
 * 1. 向上沟通
 * 2. 跨团队协作
 * 3. 技术汇报
 * 4. 冲突处理
 */

// ============================================================
// 1. 向上沟通
// ============================================================

/**
 * 📊 向上沟通原则
 *
 * 1. 结论先行
 *    - 先说结论/结果
 *    - 再说过程/细节
 *
 * 2. 带着方案汇报问题
 *    - 不只是抛问题
 *    - 给出建议方案
 *
 * 3. 定期同步进度
 *    - 不要等到出问题
 *    - 主动同步风险
 *
 * 4. 用数据说话
 *    - 量化成果
 *    - 数据支撑决策
 */

const reportTemplate = `
# 周报/项目汇报模板

## 一句话总结
本周完成 xxx，核心指标 xxx

## 进展

### 本周完成
- [P0] xxx（100%）
- [P1] xxx（80%）

### 下周计划
- [P0] xxx
- [P1] xxx

## 风险与问题

### 当前风险
| 风险项 | 影响 | 应对措施 | 需要支持 |
|-------|-----|---------|---------|
| xxx | 高 | xxx | 需要 xxx |

### 阻塞问题
- 问题描述
- 已尝试方案
- 需要的支持

## 数据指标

| 指标 | 目标 | 当前 | 趋势 |
|-----|-----|-----|-----|
| xxx | 100 | 80 | ↑ |

## 需要决策的事项
1. 关于 xxx，建议方案 A/B，推荐 A，原因是...
`;

const escalationFramework = `
# 问题升级框架

## 什么时候升级？

### 必须升级
- 线上故障影响用户
- 项目进度严重偏离
- 跨团队冲突无法解决
- 资源严重不足

### 建议升级
- 技术方案有重大分歧
- 需求变更影响大
- 关键人员离职

## 如何升级？

### 升级前准备
1. 问题描述清楚
2. 已尝试的方案
3. 建议的解决方案
4. 需要的支持

### 升级模板

**问题**：简述问题

**影响**：
- 业务影响：xxx
- 时间影响：延期 x 天

**已尝试**：
- 方案 1：结果
- 方案 2：结果

**建议方案**：
- 方案 A（推荐）
- 方案 B

**需要支持**：
- 资源：xxx
- 决策：xxx
`;

// ============================================================
// 2. 跨团队协作
// ============================================================

/**
 * 📊 跨团队协作
 *
 * 常见协作场景：
 * - 前后端联调
 * - 产品需求对接
 * - 测试协作
 * - 运维部署
 *
 * 协作原则：
 * - 明确接口和边界
 * - 及时同步信息
 * - 文档记录约定
 * - 定期对齐进度
 */

const collaborationChecklist = `
# 跨团队协作 Checklist

## 需求阶段
- [ ] 参与需求评审
- [ ] 明确技术可行性
- [ ] 给出工作量评估
- [ ] 确认排期计划

## 设计阶段
- [ ] 前后端接口定义
- [ ] 数据结构约定
- [ ] 异常处理约定
- [ ] 接口文档同步

## 开发阶段
- [ ] 每日站会同步
- [ ] 接口联调计划
- [ ] Mock 数据准备
- [ ] 及时同步阻塞

## 测试阶段
- [ ] 提测邮件/文档
- [ ] 测试用例 Review
- [ ] Bug 跟踪处理
- [ ] 回归测试配合

## 上线阶段
- [ ] 上线方案评审
- [ ] 灰度发布计划
- [ ] 监控告警配置
- [ ] 值班 on-call
`;

const apiCollaborationTemplate = `
# 前后端协作规范

## 接口定义规范

### 请求规范
- RESTful 风格
- 统一错误码
- 参数校验规则

### 响应格式
\`\`\`json
{
  "code": 0,
  "message": "success",
  "data": {},
  "timestamp": 1234567890
}
\`\`\`

### 错误码规范
| 范围 | 含义 |
|-----|-----|
| 0 | 成功 |
| 1xxxx | 参数错误 |
| 2xxxx | 业务错误 |
| 5xxxx | 系统错误 |

## 联调流程

1. **接口评审**
   - 前后端一起评审接口设计
   - 确认字段和格式

2. **Mock 先行**
   - 后端提供接口文档
   - 前端使用 Mock 开发

3. **联调测试**
   - 后端接口就绪通知
   - 前后端联调
   - 问题及时沟通

4. **接口变更**
   - 必须提前通知
   - 文档同步更新
   - 兼容性处理
`;

// ============================================================
// 3. 技术汇报
// ============================================================

/**
 * 📊 技术汇报技巧
 *
 * 金字塔原理：
 * - 结论先行
 * - 分类归纳
 * - 逻辑递进
 *
 * STAR 法则：
 * - Situation：背景
 * - Task：任务
 * - Action：行动
 * - Result：结果
 */

const techPresentationTemplate = `
# 技术方案汇报模板

## 1. 背景与问题（2分钟）

### 当前问题
- 问题 1：xxx（影响：xxx）
- 问题 2：xxx（影响：xxx）

### 业务背景
- 业务目标：xxx
- 技术约束：xxx

## 2. 解决方案（5分钟）

### 方案概述
一句话说明方案

### 技术架构
[架构图]

### 核心设计
- 设计点 1：xxx
- 设计点 2：xxx

### 方案对比
| 维度 | 方案 A | 方案 B |
|-----|-------|-------|
| xxx | xxx | xxx |

选择方案 A，因为 xxx

## 3. 实施计划（2分钟）

### 里程碑
| 阶段 | 时间 | 产出 |
|-----|-----|-----|
| 设计 | 1周 | 设计文档 |
| 开发 | 2周 | 代码完成 |
| 测试 | 1周 | 测试通过 |

### 资源需求
- 人力：x 人 x 天
- 其他：xxx

## 4. 风险与收益（1分钟）

### 预期收益
- 性能提升 50%
- 开发效率提升 30%

### 风险评估
| 风险 | 概率 | 应对 |
|-----|-----|-----|
| xxx | 中 | xxx |

## 5. 需要决策/支持
1. 是否同意方案 A？
2. 资源是否可以保障？
`;

const projectReviewTemplate = `
# 项目复盘模板

## 项目概述
- 项目名称：xxx
- 项目周期：2024.01.01 - 2024.03.01
- 项目目标：xxx

## 结果回顾

### 目标达成
| 目标 | 计划 | 实际 | 达成率 |
|-----|-----|-----|-------|
| 性能 | LCP < 2s | 1.8s | 100% |
| 质量 | 0故障 | 1次 | 80% |
| 进度 | 3.1上线 | 3.5 | 90% |

### 亮点
- xxx
- xxx

### 不足
- xxx
- xxx

## 问题分析

### 问题 1：xxx
- 根因分析：xxx
- 改进措施：xxx

### 问题 2：xxx
- 根因分析：xxx
- 改进措施：xxx

## 经验总结

### 做得好的
- xxx → 继续保持
- xxx → 推广复用

### 需要改进的
- xxx → 改进措施
- xxx → 责任人

## 后续计划
- Action 1：xxx（Owner：xxx，Deadline：xxx）
- Action 2：xxx（Owner：xxx，Deadline：xxx）
`;

// ============================================================
// 4. 冲突处理
// ============================================================

/**
 * 📊 冲突处理策略
 *
 * 1. 竞争：我赢你输（紧急重要）
 * 2. 迁就：你赢我输（关系重要）
 * 3. 回避：双输（不重要）
 * 4. 妥协：各让一步（时间紧）
 * 5. 协作：双赢（最佳）
 *
 * 处理步骤：
 * 1. 了解各方立场和利益
 * 2. 找到共同目标
 * 3. 探索双赢方案
 * 4. 必要时升级决策
 */

const conflictResolutionGuide = `
# 技术冲突处理指南

## 常见冲突类型

### 技术方案分歧
- 表现：技术选型、架构设计意见不一
- 处理：数据驱动，POC 验证，集体决策

### 职责边界模糊
- 表现：谁负责什么不清楚
- 处理：明确分工，文档记录

### 资源竞争
- 表现：人力、时间不够
- 处理：优先级排序，升级决策

### 跨团队配合
- 表现：相互推诿，进度阻塞
- 处理：明确接口，定期同步

## 处理原则

### 1. 对事不对人
- 聚焦问题本身
- 避免人身攻击
- 保持尊重

### 2. 数据说话
- 用数据支持观点
- POC 验证方案
- 避免主观臆断

### 3. 寻求共识
- 找到共同目标
- 探索双赢方案
- 记录决策过程

### 4. 及时升级
- 无法解决时升级
- 提供完整信息
- 尊重决策结果

## 冲突处理模板

### 冲突描述
- 各方观点：xxx
- 分歧焦点：xxx

### 分析
- 各方利益：xxx
- 共同目标：xxx

### 方案
- 方案 1：xxx
- 方案 2：xxx

### 决策
- 采纳方案：xxx
- 决策依据：xxx
- 后续跟进：xxx
`;

// ============================================================
// 5. ⚠️ 注意事项（易错点）
// ============================================================

/**
 * ⚠️ 常见问题
 *
 * 1. 沟通不及时
 *    - 有问题要早说
 *    - 不要等到爆发
 *
 * 2. 只说问题不给方案
 *    - 带着方案来
 *    - 展示思考过程
 *
 * 3. 信息不对称
 *    - 主动同步信息
 *    - 文档记录决策
 *
 * 4. 冲突回避
 *    - 正视冲突
 *    - 建设性解决
 */

// ============================================================
// 6. 💡 面试追问
// ============================================================

/**
 * 💡 深度追问
 *
 * Q1: 如何向上汇报技术方案？
 * A:
 *    - 结论先行
 *    - 问题-方案-计划-风险
 *    - 用数据说话
 *    - 给出建议
 *
 * Q2: 如何处理技术方案分歧？
 * A:
 *    - 了解各方观点
 *    - 数据驱动
 *    - POC 验证
 *    - 集体决策
 *
 * Q3: 如何做好跨团队协作？
 * A:
 *    - 明确接口边界
 *    - 定期同步进度
 *    - 文档记录约定
 *    - 及时解决问题
 *
 * Q4: 如何做项目复盘？
 * A:
 *    - 结果回顾
 *    - 问题分析
 *    - 经验总结
 *    - 改进计划
 */

export {
  reportTemplate,
  escalationFramework,
  collaborationChecklist,
  apiCollaborationTemplate,
  techPresentationTemplate,
  projectReviewTemplate,
  conflictResolutionGuide,
};

