/**
 * ðŸ“ é¢˜ç›®ï¼šäºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦
 * ðŸ”— é“¾æŽ¥ï¼šhttps://leetcode.cn/problems/maximum-depth-of-binary-tree/
 * ðŸ·ï¸ éš¾åº¦ï¼šEasy
 * ðŸ·ï¸ æ ‡ç­¾ï¼šæ ‘ã€æ·±åº¦ä¼˜å…ˆæœç´¢ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ã€äºŒå‰æ ‘
 *
 * ðŸ“‹ é¢˜ç›®æè¿°ï¼š
 * ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ rootï¼Œè¿”å›žå…¶æœ€å¤§æ·±åº¦ã€‚
 * äºŒå‰æ ‘çš„ æœ€å¤§æ·±åº¦ æ˜¯æŒ‡ä»Žæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚
 *
 * ç¤ºä¾‹ï¼š
 *        3
 *       / \
 *      9  20
 *        /  \
 *       15   7
 *
 * è¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]
 * è¾“å‡ºï¼š3
 */

class TreeNode {
  val: number;
  left: TreeNode | null;
  right: TreeNode | null;
  constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
    this.val = val === undefined ? 0 : val;
    this.left = left === undefined ? null : left;
    this.right = right === undefined ? null : right;
  }
}

// ============================================================
// ðŸ’¡ æ€è·¯åˆ†æžï¼šè¿™é“é¢˜çš„è§£æ³•æ˜¯æ€Žä¹ˆæƒ³å‡ºæ¥çš„ï¼Ÿ
// ============================================================
//
// ä¸¤ç§æ€è·¯ï¼š
//
// 1. åˆ†è§£æ€è·¯ï¼ˆæŽ¨èï¼‰ï¼š
//    - æœ€å¤§æ·±åº¦ = max(å·¦å­æ ‘æ·±åº¦, å³å­æ ‘æ·±åº¦) + 1
//    - æŠŠé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜
//
// 2. éåŽ†æ€è·¯ï¼š
//    - éåŽ†æ•´æ£µæ ‘ï¼Œè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦
//    - å–æœ€å¤§å€¼

// ============================================================
// è§£æ³•ä¸€ï¼šé€’å½’ - åˆ†è§£æ€è·¯ï¼ˆæŽ¨èï¼‰
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(h)

/**
 * ðŸ“Š é€’å½’è¿‡ç¨‹å›¾è§£ï¼š
 *
 *        3
 *       / \
 *      9  20
 *        /  \
 *       15   7
 *
 *  maxDepth(3)
 *    = max(maxDepth(9), maxDepth(20)) + 1
 *    = max(1, max(maxDepth(15), maxDepth(7)) + 1) + 1
 *    = max(1, max(1, 1) + 1) + 1
 *    = max(1, 2) + 1
 *    = 3
 */
function maxDepth_v1(root: TreeNode | null): number {
  // Base Case: ç©ºèŠ‚ç‚¹æ·±åº¦ä¸º 0
  if (!root) return 0;

  // åˆ†è§£ï¼šå·¦å­æ ‘æ·±åº¦ + å³å­æ ‘æ·±åº¦çš„æœ€å¤§å€¼ + 1
  const leftDepth = maxDepth_v1(root.left);
  const rightDepth = maxDepth_v1(root.right);

  return Math.max(leftDepth, rightDepth) + 1;
}

// ============================================================
// è§£æ³•äºŒï¼šé€’å½’ - éåŽ†æ€è·¯
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(h)
function maxDepth_v2(root: TreeNode | null): number {
  let result = 0;

  function traverse(node: TreeNode | null, depth: number) {
    if (!node) return;

    // æ›´æ–°æœ€å¤§æ·±åº¦
    result = Math.max(result, depth);

    // éåŽ†å·¦å³å­æ ‘
    traverse(node.left, depth + 1);
    traverse(node.right, depth + 1);
  }

  traverse(root, 1);
  return result;
}

// ============================================================
// è§£æ³•ä¸‰ï¼šBFS å±‚åºéåŽ†
// ============================================================
// â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) | ç©ºé—´å¤æ‚åº¦ï¼šO(w) wä¸ºæœ€å¤§å®½åº¦
function maxDepth_v3(root: TreeNode | null): number {
  if (!root) return 0;

  const queue: TreeNode[] = [root];
  let depth = 0;

  while (queue.length > 0) {
    const levelSize = queue.length;
    depth++;

    for (let i = 0; i < levelSize; i++) {
      const node = queue.shift()!;
      if (node.left) queue.push(node.left);
      if (node.right) queue.push(node.right);
    }
  }

  return depth;
}

// ============================================================
// ðŸ”„ è§£æ³•å¯¹æ¯”
// ============================================================
/**
 * | è§£æ³•       | æ—¶é—´  | ç©ºé—´  | ç‰¹ç‚¹                     |
 * |-----------|-------|-------|-------------------------|
 * | åˆ†è§£é€’å½’   | O(n)  | O(h)  | æŽ¨èï¼Œä»£ç æœ€ç®€æ´          |
 * | éåŽ†é€’å½’   | O(n)  | O(h)  | éœ€è¦é¢å¤–å˜é‡              |
 * | BFS       | O(n)  | O(w)  | å±‚æ•°å³æ·±åº¦               |
 */

// ============================================================
// âš ï¸ æ˜“é”™ç‚¹
// ============================================================
/**
 * 1. Base Caseï¼š
 *    - ç©ºèŠ‚ç‚¹è¿”å›ž 0ï¼Œä¸æ˜¯ -1
 *
 * 2. æ·±åº¦å®šä¹‰ï¼š
 *    - æœ¬é¢˜æ·±åº¦æ˜¯èŠ‚ç‚¹æ•°ï¼Œä¸æ˜¯è¾¹æ•°
 *    - å•èŠ‚ç‚¹æ ‘æ·±åº¦ä¸º 1
 *
 * 3. éåŽ†æ€è·¯çš„åˆå§‹æ·±åº¦ï¼š
 *    - æ ¹èŠ‚ç‚¹æ·±åº¦æ˜¯ 1ï¼Œä¸æ˜¯ 0
 */

// ============================================================
// ðŸ”— ä¸¾ä¸€åä¸‰ï¼šç›¸ä¼¼é¢˜ç›®
// ============================================================
/**
 * - äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ â†’ æ³¨æ„åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„æƒ…å†µ
 * - N å‰æ ‘çš„æœ€å¤§æ·±åº¦ â†’ éåŽ†æ‰€æœ‰å­èŠ‚ç‚¹
 * - å¹³è¡¡äºŒå‰æ ‘ â†’ éœ€è¦åˆ¤æ–­å·¦å³æ·±åº¦å·®
 */

// ============================================================
// ðŸ¢ å‰ç«¯ä¸šåŠ¡åœºæ™¯
// ============================================================
/**
 * 1. DOM æ·±åº¦ï¼šè®¡ç®— DOM æ ‘çš„æœ€å¤§åµŒå¥—æ·±åº¦
 * 2. ç»„ä»¶å±‚çº§ï¼šç»Ÿè®¡ç»„ä»¶æ ‘çš„å±‚çº§
 * 3. JSON æ·±åº¦ï¼šè®¡ç®—åµŒå¥— JSON çš„æœ€å¤§æ·±åº¦
 */

export { TreeNode, maxDepth_v1, maxDepth_v2, maxDepth_v3 };
export default maxDepth_v1;

